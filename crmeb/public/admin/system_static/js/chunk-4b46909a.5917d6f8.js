(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4b46909a"],{"0741":function(a,t,e){e.r(t);var l=e("c7eb"),i=e("1da1"),n=e("5530"),r=(e("d81d"),e("a434"),e("498a"),e("2f62")),s=e("90e7");n={data:function(){return{addlangModal:!1,traTabLoading:!1,langType:{},formValidate:{is_admin:0,type_id:1,remarks:"",page:1,limit:20},total:0,FormLoading:!0,loading:!1,ruleValidate:{code:[{required:!0,message:"请输入状态码/文字",trigger:"blur"}],remarks:[{required:!0,message:"请输入文字",trigger:"blur"}]},langColumns:[{title:"语言类型",key:"language_name",width:120},{title:"对应语言翻译",slot:"lang_explain",minWidth:250}],langData:[],langFormData:{is_admin:0,code:"",remarks:"",edit:0,list:[]},tabList:[],FromData:null,extractId:0,code:null}},computed:Object(n.a)(Object(n.a)({},Object(r.d)("media",["isMobile"])),{},{labelWidth:function(){return this.isMobile?void 0:"80px"},labelPosition:function(){return this.isMobile?"top":"right"}}),mounted:function(){this.getList()},methods:{translate:function(){var a=this;if(!this.langFormData.remarks.trim())return this.$message.warning("请先输入翻译内容");this.traTabLoading=!0,Object(s.N)({text:this.langFormData.remarks}).then((function(t){a.langFormData.list.map((function(a){a.lang_explain=t.data[a.type_id]})),a.traTabLoading=!1})).catch((function(t){a.traTabLoading=!1,a.$message.error(t.msg)}))},add:function(){this.langFormData.list=this.langType.langType.map((function(a){return{language_name:a.title,lang_explain:"",remarks:"",type_id:a.value}})),this.addlangModal=!0},ok:function(){var a=this;if(!this.langFormData.remarks.trim())return this.FormLoading=!1,this.$nextTick((function(){a.FormLoading=!0})),this.$message.error("请先输入语言说明");Object(s.M)(this.langFormData).then((function(t){a.addlangModal=!1,a.$message.success(t.msg),a.getList()})).catch((function(t){a.FormLoading=!1,a.$nextTick((function(){a.FormLoading=!0})),a.$message.error(t.msg)}))},edit:function(a){var t=this;this.langFormData.is_admin=this.formValidate.is_admin,this.code=a.code,Object(s.K)({code:a.code}).then((function(a){t.langFormData.list=a.data.list,t.langFormData.code=a.data.code,t.langFormData.remarks=a.data.remarks,t.langFormData.edit=1,t.addlangModal=!0})).catch((function(a){t.loading=!1,t.$message.error(a.msg)}))},del:function(a,t,e){var l=this;t={title:t,num:e,url:"setting/lang_code/del/".concat(a.id),method:"DELETE",ids:""};this.$modalSure(t).then((function(a){l.$message.success(a.msg),l.tabList.splice(e,1)})).catch((function(a){l.$message.error(a.msg)}))},modalChange:function(){this.langFormData={is_admin:0,name:"",code:"",list:[]},this.code=null},selChange:function(){this.formValidate.page=1,this.getList()},getList:function(){var a=this;this.loading=!0,Object(s.L)(this.formValidate).then(function(){var t=Object(i.a)(Object(l.a)().mark((function t(e){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.loading=!1,a.tabList=e.data.list,a.total=e.data.count,a.langType=e.data.langType;case 4:case"end":return t.stop()}}),t)})));return function(a){return t.apply(this,arguments)}}()).catch((function(t){a.loading=!1,a.$message.error(t.msg)}))}}},e("35ba"),r=e("2877"),e=Object(r.a)(n,(function(){var a=this,t=a._self._c;return t("div",[t("el-card",{staticClass:"ivu-mb-16",attrs:{bordered:!1,shadow:"never","body-style":{padding:0}}},[t("div",{staticClass:"padding-add"},[t("el-form",{attrs:{model:a.formValidate,"label-width":a.labelWidth,"label-position":"right",inline:""},nativeOn:{submit:function(a){a.preventDefault()}}},[t("el-form-item",{attrs:{label:"语言分类："}},[t("el-select",{staticClass:"form_content_width",attrs:{clearable:""},on:{change:a.selChange},model:{value:a.formValidate.is_admin,callback:function(t){a.$set(a.formValidate,"is_admin",t)},expression:"formValidate.is_admin"}},a._l(a.langType.isAdmin,(function(a,e){return t("el-option",{key:e,attrs:{label:a.title,value:a.value}})})),1)],1),t("el-form-item",{attrs:{label:"语言类型："}},[t("el-select",{staticClass:"form_content_width",attrs:{clearable:""},on:{change:a.selChange},model:{value:a.formValidate.type_id,callback:function(t){a.$set(a.formValidate,"type_id",t)},expression:"formValidate.type_id"}},a._l(a.langType.langType,(function(a,e){return t("el-option",{key:e,attrs:{label:a.title,value:a.value}})})),1)],1),t("el-form-item",{attrs:{label:"搜索："}},[t("el-input",{staticClass:"form_content_width",attrs:{clearable:"",placeholder:"请输入语言备注"},model:{value:a.formValidate.remarks,callback:function(t){a.$set(a.formValidate,"remarks",t)},expression:"formValidate.remarks"}})],1),t("el-form-item",[t("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"userSearch",attrs:{type:"primary"},on:{click:a.selChange}},[a._v("搜索")])],1)],1)],1)]),t("el-alert",{attrs:{type:"warning",closable:!1}},[t("template",{slot:"title"},[t("p",{staticClass:"alert_title"},[a._v("页面语言")]),a._v("\n      添加页面语言，添加完成之后状态码为中文文字，移动端页面使用 $t(`xxxx`)，js文件中使用 this.t(`xxxx`) 或者使用\n      that.t(`xxxx`) 实现语言的切换"),t("br"),t("br"),t("p",{staticClass:"alert_title"},[a._v("接口语言")]),a._v("\n      添加接口语言，添加完成之后状态码为6位数字，接口返回提示信息时，直接返回对应的错误码即可实现语言的切换\n    ")])],2),t("el-card",{staticClass:"mt14",attrs:{bordered:!1,shadow:"never"}},[t("el-row",{staticClass:"mb14"},[t("el-col",[t("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],attrs:{type:"primary"},on:{click:a.add}},[a._v("添加语句")])],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],ref:"table",staticClass:"ivu-mt",attrs:{data:a.tabList,"empty-text":"暂无数据"}},[t("el-table-column",{attrs:{label:"编号",width:"80"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("span",[a._v(a._s(e.row.id))])]}}])}),t("el-table-column",{attrs:{label:"原语句","min-width":"230"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("span",[a._v(a._s(e.row.remarks))])]}}])}),t("el-table-column",{attrs:{label:"对应语言翻译","min-width":"130"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("span",[a._v(a._s(e.row.lang_explain))])]}}])}),t("el-table-column",{attrs:{label:"状态码/文字(接口/页面调用参考)","min-width":"130"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("span",[a._v(a._s(e.row.code))])]}}])}),t("el-table-column",{attrs:{label:"语言类型","min-width":"130"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("span",[a._v(a._s(e.row.language_name))])]}}])}),t("el-table-column",{attrs:{label:"操作",fixed:"right",width:"170"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("a",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(t){return a.edit(e.row)}}},[a._v("编辑")]),t("el-divider",{attrs:{direction:"vertical"}}),t("a",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(t){return a.del(e.row,"删除语言",e.$index)}}},[a._v("删除")])]}}])})],1),t("div",{staticClass:"acea-row row-right page"},[a.total?t("pagination",{attrs:{total:a.total,page:a.formValidate.page,limit:a.formValidate.limit},on:{"update:page":function(t){return a.$set(a.formValidate,"page",t)},"update:limit":function(t){return a.$set(a.formValidate,"limit",t)},pagination:a.getList}}):a._e()],1)],1),t("el-dialog",{attrs:{visible:a.addlangModal,width:"720px",title:"添加需要翻译的语句"},on:{"update:visible":function(t){a.addlangModal=t},closed:a.modalChange}},[t("el-form",{ref:"langFormData",attrs:{model:a.langFormData,rules:a.ruleValidate}},[t("el-form-item",{staticClass:"mb20",attrs:{label:"应用端：","label-width":"120px"}},[t("el-radio-group",{staticClass:"mr15",attrs:{type:"button"},model:{value:a.langFormData.is_admin,callback:function(t){a.$set(a.langFormData,"is_admin",t)},expression:"langFormData.is_admin"}},a._l(a.langType.isAdmin,(function(e,l){return t("el-radio",{key:l,attrs:{label:e.value}},[a._v(a._s(e.title))])})),1)],1),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],model:{value:a.langFormData.edit,callback:function(t){a.$set(a.langFormData,"edit",t)},expression:"langFormData.edit"}}),t("el-form-item",{staticClass:"mb20",attrs:{label:"需要翻译的语句：",prop:"remarks"}},[t("el-input",{staticStyle:{width:"330px"},attrs:{placeholder:"请输入需要添加翻译的语句",search:""},on:{"on-search":a.translate},model:{value:a.langFormData.remarks,callback:function(t){a.$set(a.langFormData,"remarks",t)},expression:"langFormData.remarks"}},[t("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],attrs:{slot:"append",type:"primary"},on:{click:a.translate},slot:"append"},[a._v("翻译")])],1)],1),t("el-form-item",{staticClass:"mb20",attrs:{prop:"remark"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.traTabLoading,expression:"traTabLoading"}],ref:"langTable",attrs:{data:a.langFormData.list,"empty-text":"暂无数据"}},[t("el-table-column",{attrs:{label:"语言类型",width:"140"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("span",[a._v(" "+a._s(e.row.language_name))])]}}])}),t("el-table-column",{attrs:{label:"对应语言翻译","min-width":"250"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-input",{staticClass:"priceBox",model:{value:e.row.lang_explain,callback:function(t){a.$set(e.row,"lang_explain",t)},expression:"scope.row.lang_explain"}})]}}])})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(t){a.addlangModal=!1}}},[a._v("取消")]),t("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],attrs:{type:"primary"},on:{click:a.ok}},[a._v("确定")])],1)],1)],1)}),[],!1,null,"6212ce45",null);t.default=e.exports},"35ba":function(a,t,e){e("f599")},f599:function(a,t,e){}}]);