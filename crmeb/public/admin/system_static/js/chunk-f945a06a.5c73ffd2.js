(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f945a06a"],{"03ecd":function(t,e,a){t.exports=a.p+"system_static/img/mobilehead.1c931282.png"},"58b1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAAyCAIAAACib5WDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE1NEJCMUE0NzZGNDExRTVBOTBBQTZFOEFEMjc4NTkzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE1NEJCMUE1NzZGNDExRTVBOTBBQTZFOEFEMjc4NTkzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTU0QkIxQTI3NkY0MTFFNUE5MEFBNkU4QUQyNzg1OTMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTU0QkIxQTM3NkY0MTFFNUE5MEFBNkU4QUQyNzg1OTMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4yWLBJAAABuklEQVR42uzcu0ocURzA4XWxMIWiQhJwtVhxMW0wEkWj+AwWgm9gJfgggpVPoElEUwUCKRNFJaQWsygWXvAKXlBZGw8KIiIJmWFnGPg+pjiryMIffpxzRLemUqnkUlUul0ulUg74f3kjAAEDAgYEDAIGBAwIGBAwCBgQMCBgEHAMlZub8BglJK825s/vHxzOfl4Ii9GR4devXhooZGYHPjo+mfk0f3l5FZ6wCC8NFDKzA+fz+aHB/scvDRQyE3BzU2N4DBEyeYQGBAxU5wi9sbm1+ut3W2shznucnp296Sx1tBeNGxINeG39z+jIcPy3+Tj3RcCQ9BG6ob7+fjE5NR2eaOugtdBi1pD0Dvzg6vo68hpIOeAXdXWR10CV1Pz9c6F/LC4P9PfGf5ufSysf+nqe/ZbPhYZq3YGfiHD7BdI/Qrv9QuYDdvsFd2B3YEjjDgxk+Aidu/sd1T9vueEUPTE+ZrhgBwai7sA7u3tPvhJtaz0/vzBrSDrg7ndvv377/vAX0dFs7+y+7+4ya0g64I72ov8iAndgQMCAgEHAgIABAYOAAQEDAgYEDAIGBAwIGBAwCBhIy60AAwBiy5esmSYLKgAAAABJRU5ErkJggg=="},"80a7":function(t,e,a){},b562:function(t,e,a){a.d(e,"n",(function(){return n})),a.d(e,"w",(function(){return r})),a.d(e,"s",(function(){return s})),a.d(e,"a",(function(){return l})),a.d(e,"i",(function(){return c})),a.d(e,"j",(function(){return u})),a.d(e,"k",(function(){return o})),a.d(e,"f",(function(){return d})),a.d(e,"g",(function(){return p})),a.d(e,"h",(function(){return m})),a.d(e,"t",(function(){return h})),a.d(e,"v",(function(){return f})),a.d(e,"u",(function(){return b})),a.d(e,"z",(function(){return g})),a.d(e,"x",(function(){return v})),a.d(e,"y",(function(){return k})),a.d(e,"r",(function(){return w})),a.d(e,"p",(function(){return A})),a.d(e,"q",(function(){return y})),a.d(e,"o",(function(){return I})),a.d(e,"c",(function(){return V})),a.d(e,"b",(function(){return M})),a.d(e,"e",(function(){return j})),a.d(e,"d",(function(){return E})),a.d(e,"m",(function(){return C})),a.d(e,"l",(function(){return O})),a("99af");var i=a("6b6c");function n(){return Object(i.a)({url:"app/routine/syncSubscribe",method:"GET"})}function r(){return Object(i.a)({url:"app/wechat/syncSubscribe",method:"GET"})}function s(t){return Object(i.a)({url:"app/wechat/menu",method:"get"})}function l(t){return Object(i.a)({url:"app/wechat/menu",method:"post",data:t})}function c(t){return Object(i.a)({url:t.url,method:"post",data:t.key})}function u(t){return Object(i.a)({url:"app/routine/download",method:"post",data:t})}function o(){return Object(i.a)({url:"app/routine/info",method:"get"})}function d(t){return Object(i.a)({url:"app/wechat/keyword",method:"get",params:t})}function p(t){return Object(i.a)({url:"app/wechat/keyword/set_status/".concat(t.id,"/").concat(t.status),method:"PUT"})}function m(t,e){return Object(i.a)({url:t,method:"get",params:e.key})}function h(t){return Object(i.a)({url:"/app/wechat/news",method:"POST",data:t})}function f(t){return Object(i.a)({url:"app/wechat/news",method:"GET",params:t})}function b(t){return Object(i.a)({url:"app/wechat/news/".concat(t),method:"GET"})}function g(){return Object(i.a)({url:"app/wechat/tag",method:"GET"})}function v(){return Object(i.a)({url:"app/wechat/tag/create",method:"GET"})}function k(t){return Object(i.a)({url:"app/wechat/tag/".concat(t,"/edit"),method:"GET"})}function w(){return Object(i.a)({url:"app/wechat/group",method:"GET"})}function A(){return Object(i.a)({url:"app/wechat/group/create",method:"GET"})}function y(t){return Object(i.a)({url:"app/wechat/group/".concat(t,"/edit"),method:"GET"})}function I(t){return Object(i.a)({url:"app/wechat/action",method:"GET",params:t})}function V(t){return Object(i.a)({url:"app/wechat/code_reply/".concat(t),method:"GET"})}function M(){return Object(i.a)({url:"setting/city/full_list",method:"GET"})}function j(t){return Object(i.a)({url:"app/kefu/auto_reply/list",method:"get",params:t})}function E(t){return Object(i.a)({url:"app/kefu/auto_reply/form/"+t,method:"get"})}function C(t){return Object(i.a)({url:"app/routine/scheme_list",method:"get",params:t})}function O(t){return Object(i.a)({url:"app/routine/scheme_form/".concat(t),method:"get"})}},c861:function(t,e,a){a.r(e),a("b0c0");var i=a("c7eb"),n=a("1da1"),r=(a("14d9"),a("a434"),a("ac1f"),a("00b4"),a("b562")),s={name:"wechatMenus",data:function(){return{modal2:!1,formValidate:{name:"",type:"click",appid:"",url:"",key:"",pagepath:"",id:0},ruleValidate:{name:[{required:!0,message:"请填写菜单名称",trigger:"blur"},{min:1,max:14,message:"长度在 1 到 14 个字符",trigger:"blur"}],key:[{required:!0,message:"请填写关键字",trigger:"blur"}],appid:[{required:!0,message:"请填写appid",trigger:"blur"}],pagepath:[{required:!0,message:"请填写备用网页",trigger:"blur"}],url:[{required:!0,message:"请填写跳转地址",trigger:"blur"}],type:[{required:!0,message:"请选择规则状态",trigger:"change"}]},parentMenuId:null,list:[],checkedMenuId:null,isTrue:!1}},mounted:function(){if(this.getMenus(),!this.list.length)return this.formValidate;this.formValidate=this.list[this.activeClass]},methods:{defaultMenusData:function(){return{type:"click",name:"",sub_button:[]}},defaultChildData:function(){return{type:"click",name:""}},getMenus:function(){var t=this;Object(r.s)().then(function(){var e=Object(n.a)(Object(i.a)().mark((function e(a){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.data,t.list=n.menus;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$message.error(e.msg)}))},submenus:function(t){var e=this;this.isTrue&&!this.checkedMenuId&&0!==this.checkedMenuId?this.putData():this.$refs[t].validate((function(t){if(t)e.putData();else if(!e.check())return!1}))},putData:function(){var t=this,e={button:this.list};Object(r.a)(e).then(function(){var e=Object(n.a)(Object(i.a)().mark((function e(a){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$message.success(a.msg),t.checkedMenuId=null,t.formValidate={},t.isTrue=!1;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$message.error(e.msg)}))},gettem:function(t,e,a){this.checkedMenuId=e,this.formValidate=t,this.parentMenuId=a,this.isTrue=!0},add:function(t,e){var a,i;return!!this.check()&&(t.sub_button.length<5?(a=this.defaultChildData(),i=t.sub_button.length,t.sub_button.push(a),this.formValidate=a,this.checkedMenuId=i,this.parentMenuId=e,void(this.isTrue=!0)):(this.$message.warning("二级菜单最多只能添加5个!"),!1))},addtext:function(){if(!this.check())return!1;var t=this.defaultMenusData(),e=this.list.length;this.list.push(t),this.formValidate=t,this.checkedMenuId=e,this.parentMenuId=null,this.isTrue=!0},check:function(){return null===this.checkedMenuId||!(this.isTrue&&(this.formValidate.name?"click"!==this.formValidate.type||this.formValidate.key?"view"!==this.formValidate.type||/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?/.test(this.formValidate.url)?!("miniprogram"!==this.formValidate.type||this.formValidate.appid&&this.formValidate.pagepath&&this.formValidate.url)&&(this.$message.warning("请填写完整小程序配置!"),1):(this.$message.warning("请输入正确的跳转地址!"),1):(this.$message.warning("请输入关键字!"),1):(this.$message.warning("请输入按钮名称!"),1)))},deltMenus:function(){var t=this;this.isTrue?this.$confirm("确认删除此菜单吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",beforeClose:function(t,e,a){var i;"confirm"==t?e.$refs.confirm.$el.onclick=void(0!=(i=i||window.event).detail&&a()):a()}}).then((function(){(null===t.parentMenuId?t.list:t.list[t.parentMenuId].sub_button).splice(t.checkedMenuId,1),t.parentMenuId=null,t.formValidate={name:"",type:"click",appid:"",url:"",key:"",pagepath:"",id:0},t.isTrue=!0,t.modal2=!1,t.checkedMenuId=null,t.$refs.formValidate.resetFields()})).catch((function(){})):this.$message.warning("请选择菜单!")},del:function(){(null===this.parentMenuId?this.list:this.list[this.parentMenuId].sub_button).splice(this.checkedMenuId,1),this.parentMenuId=null,this.formValidate={name:"",type:"click",appid:"",url:"",key:"",pagepath:"",id:0},this.isTrue=!0,this.modal2=!1,this.checkedMenuId=null,this.$refs.formValidate.resetFields()}}},l=(a("e8d6"),a("2877"));l=Object(l.a)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"article-manager"},[e("pages-header",{ref:"pageHeader",attrs:{title:t.$route.meta.title}}),e("el-card",{staticClass:"ivu-mt mt16",attrs:{bordered:!1,shadow:"never"}},[e("el-row",{attrs:{gutter:24}},[e("el-col",{staticClass:"ml40",attrs:{span:24}},[e("el-col",{attrs:{span:24}},[e("el-col",{staticClass:"left mb15",attrs:{xl:7,lg:7,md:22,sm:22,xs:22}},[e("img",{staticClass:"top",attrs:{src:a("03ecd")}}),e("img",{staticClass:"bottom",attrs:{src:a("58b1")}}),e("div",{staticStyle:{background:"#f4f5f9","min-height":"438px",position:"absolute",top:"63px",width:"320px"}}),e("div",{staticClass:"textbot"},[t._l(t.list,(function(a,i){return e("div",{key:i,staticClass:"li",class:{active:a===t.formValidate}},[e("div",[e("div",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"add",on:{click:function(e){return t.add(a,i)}}},[e("i",{staticClass:"el-icon-plus"}),e("div",{staticClass:"arrow"})]),e("div",{staticClass:"tianjia"},t._l(a.sub_button,(function(a,n){return e("div",{directives:[{name:"db-click",rawName:"v-db-click"}],key:n,staticClass:"addadd",class:{active:a===t.formValidate},on:{click:function(e){return t.gettem(a,n,i)}}},[t._v("\n                      "+t._s(a.name||"二级菜单")+"\n                    ")])})),0)]),e("div",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"text",on:{click:function(e){return t.gettem(a,i,null)}}},[t._v(t._s(a.name||"一级菜单"))])])})),e("div",{directives:[{name:"show",rawName:"v-show",value:t.list.length<3,expression:"list.length < 3"}],staticClass:"li"},[e("div",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"text",on:{click:t.addtext}},[e("i",{staticClass:"el-icon-plus"})])])],2)]),e("el-col",{attrs:{xl:11,lg:12,md:22,sm:22,xs:22}},[null!==t.checkedMenuId?e("el-tabs",{attrs:{value:"name1"}},[e("el-tab-pane",{attrs:{label:"菜单信息",name:"name1"}},[e("el-col",{staticClass:"userAlert",attrs:{span:24}},[e("div",{staticClass:"box-card right"},[e("el-alert",{attrs:{type:"info","show-icon":"",closable:"",title:"已添加子菜单，仅可设置菜单名称"}}),e("el-form",{ref:"formValidate",staticClass:"mt20",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"菜单名称",prop:"name"}},[e("el-input",{staticClass:"spwidth",attrs:{placeholder:"请填写菜单名称"},model:{value:t.formValidate.name,callback:function(e){t.$set(t.formValidate,"name",e)},expression:"formValidate.name"}})],1),e("el-form-item",{attrs:{label:"规则状态",prop:"type"}},[e("el-select",{staticClass:"spwidth",attrs:{placeholder:"请选择规则状态"},model:{value:t.formValidate.type,callback:function(e){t.$set(t.formValidate,"type",e)},expression:"formValidate.type"}},[e("el-option",{attrs:{value:"click",label:"关键字"}}),e("el-option",{attrs:{value:"view",label:"跳转网页"}}),e("el-option",{attrs:{value:"miniprogram",label:"小程序"}})],1)],1),"click"===t.formValidate.type?e("div",[e("el-form-item",{attrs:{label:"关键字",prop:"key"}},[e("el-input",{staticClass:"spwidth",attrs:{placeholder:"请填写关键字"},model:{value:t.formValidate.key,callback:function(e){t.$set(t.formValidate,"key",e)},expression:"formValidate.key"}})],1)],1):t._e(),"miniprogram"===t.formValidate.type?e("div",[e("el-form-item",{attrs:{label:"appid",prop:"appid"}},[e("el-input",{staticClass:"spwidth",attrs:{placeholder:"请填写appid"},model:{value:t.formValidate.appid,callback:function(e){t.$set(t.formValidate,"appid",e)},expression:"formValidate.appid"}})],1),e("el-form-item",{attrs:{label:"小程序路径",prop:"pagepath"}},[e("el-input",{staticClass:"spwidth",attrs:{placeholder:"请填写小程序路径"},model:{value:t.formValidate.pagepath,callback:function(e){t.$set(t.formValidate,"pagepath",e)},expression:"formValidate.pagepath"}})],1),e("el-form-item",{attrs:{label:"备用网页",prop:"url"}},[e("el-input",{staticClass:"spwidth",attrs:{placeholder:"请填写备用网页"},model:{value:t.formValidate.url,callback:function(e){t.$set(t.formValidate,"url",e)},expression:"formValidate.url"}})],1)],1):t._e(),"view"===t.formValidate.type?e("div",[e("el-form-item",{attrs:{label:"跳转地址",prop:"url"}},[e("el-input",{staticClass:"spwidth",attrs:{placeholder:"请填写跳转地址"},model:{value:t.formValidate.url,callback:function(e){t.$set(t.formValidate,"url",e)},expression:"formValidate.url"}})],1)],1):t._e()],1)],1)])],1)],1):t._e(),t.isTrue?e("el-col",{attrs:{span:24}},[e("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],attrs:{size:"small",type:"danger"},on:{click:t.deltMenus}},[t._v("删除")]),e("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],attrs:{type:"primary"},on:{click:function(e){return t.submenus("formValidate")}}},[t._v("保存并发布")])],1):t._e()],1)],1)],1)],1)],1)],1)}),[],!1,null,"93015da8",null);e.default=l.exports},e8d6:function(t,e,a){a("80a7")}}]);