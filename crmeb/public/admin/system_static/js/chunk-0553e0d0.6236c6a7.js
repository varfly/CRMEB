(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0553e0d0"],{"334b":function(s,e,a){},"46cf":function(s,e,a){a.r(e),a("a9e3"),a("d81d"),a("14d9"),a("b0c0"),a("a434");var t=a("42e3"),i={name:"userLaber",props:{change:Boolean,uid:Number,labelList:{type:Array,default:function(){return[]}}},data:function(){return{activeIds:[]}},watch:{labelList:function(s){var e=this;s.map((function(s){s.label.map((function(s){s.disabled&&e.activeIds.push(s.id)}))}))}},methods:{selectLabel:function(s){var e;s.disabled?(e=this.activeIds.indexOf(s.id),this.activeIds.splice(e,1),s.disabled=!1):(this.activeIds.push(s.id),s.disabled=!0)},subBtn:function(){var s=this,e=[];this.labelList.map((function(s){s.label.map((function(s){0==s.disabled&&e.push(s.id)}))})),Object(t.T)(this.uid,{label_ids:this.activeIds,un_label_ids:e}).then((function(e){s.$message.success(e.msg),s.$emit("editLabel",!1)})).catch((function(e){s.$message.error(e.msg)}))},close:function(){this.$emit("closeChange",!1)}}},n=(a("9abe"),a("e49f"),a("2877")),c=(i=Object(n.a)(i,(function(){var s=this,e=s._self._c;return e("div",[e("div",{staticClass:"labelChange",class:!0===s.change?"on":""},[e("div",{staticClass:"priceTitle cor32"},[s._v("\n      用户标签\n      "),e("span",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"iconfontYI icon-guanbi",on:{click:s.close}})]),e("div",{staticClass:"label-wrapper"},s._l(s.labelList,(function(a,t){return e("div",{key:t,staticClass:"label-box"},[e("div",{staticClass:"title"},[s._v(s._s(a.name))]),e("div",{staticClass:"list"},s._l(a.label,(function(a,t){return e("div",{directives:[{name:"db-click",rawName:"v-db-click"}],key:t,staticClass:"label-item",class:{on:a.disabled},on:{click:function(e){return s.selectLabel(a)}}},[s._v("\n            "+s._s(a.label_name)+"\n          ")])})),0)])})),0),e("div",{staticClass:"footer"},[e("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"btn",attrs:{type:"primary"},on:{click:s.subBtn}},[s._v("确定")])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:!0===s.change,expression:"change === true"}],staticClass:"maskModel",on:{touchmove:function(s){s.preventDefault()}}})])}),[],!1,null,"d4a485f0",null).exports,a("161e"));i={name:"index",components:{userLabels:i,vuePickers:a.n(c).a},data:function(){return{change:!1,activeUserInfo:"",pickerVisible:!1,groupList:[],labelList:[]}},mounted:function(){this.getGroup(),this.getUserInfo()},methods:{getList:function(){var s=this;Object(t.S)(this.$route.params.uid).then((function(e){s.labelList=e.data||[],s.labelList.length?s.change=!0:s.$dialog.error("暂无标签")})).catch((function(e){s.$dialog.error(e.msg)}))},getUserInfo:function(){var s=this;Object(t.R)(this.$route.params.uid).then((function(e){s.activeUserInfo=e.data})).catch((function(e){s.$dialog.error(e.msg)}))},getGroup:function(){var s=this,e={id:0,group_name:"无"};Object(t.Q)().then((function(a){a.data.unshift(e);var t=[];a.data.map((function(s){t.push({label:s.group_name,value:s.id})})),s.groupList=[t]})).catch((function(e){s.$dialog.error(e.msg)}))},editLabel:function(){this.change=!1,this.getUserInfo()},onShowLabel:function(){this.getList()},showName:function(){this.pickerVisible=!0},cancel:function(){},confirm:function(s){var e=this;Object(t.F)(this.$route.params.uid,s[0].value).then((function(s){e.$message.success(s.msg),e.getUserInfo()})).catch((function(s){e.$dialog.error(s.msg)}))},closeChange:function(s){this.change=s}}},a("d855"),c=Object(n.a)(i,(function(){var s=this,e=s._self._c;return s.activeUserInfo?e("div",{staticClass:"userBox"},[e("div",{staticClass:"user-header acea-row row-middle"},[e("div",{staticClass:"user-header-img mr20"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.activeUserInfo.avatar,expression:"activeUserInfo.avatar"}]})]),e("div",{staticClass:"user-header-name"},[e("span",{staticClass:"sp1 mr10",domProps:{textContent:s._s(s.activeUserInfo.nickname)}}),e("span",{staticClass:"sp2"},[s._v(s._s(s._f("sourceType")(s.$route.params.type)))])])]),e("div",{staticClass:"user-list"},[e("div",{staticClass:"acea-row item bgt"},[e("span",{staticClass:"sp1"},[s._v("用户标签")]),s.activeUserInfo.labelNames.length?e("div",{staticClass:"labelBox"},s._l(s.activeUserInfo.labelNames,(function(a,t){return e("span",{key:t,staticClass:"label"},[s._v(s._s(a))])})),0):e("span",{staticClass:"labelBox"},[s._v("无")]),e("span",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"iconfontYI icon-up",on:{click:s.onShowLabel}})]),e("div",{staticClass:"acea-row item bgt"},[e("span",{staticClass:"sp1"},[s._v("手机号")]),e("span",{staticClass:"sp2",domProps:{textContent:s._s(s.activeUserInfo.phone||"无")}})]),e("div",{staticClass:"acea-row item"},[e("span",{staticClass:"sp1"},[s._v("分组")]),s.activeUserInfo.group_name?e("span",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"checkName",domProps:{textContent:s._s(s.activeUserInfo.group_name)},on:{click:s.showName}}):e("span",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:s.showName}},[s._v("无")]),s.groupList.length?e("vue-pickers",{attrs:{data:s.groupList,showToolbar:!0,maskClick:!0,defaultIndex:0,visible:s.pickerVisible},on:{confirm:s.confirm,"update:visible":function(e){s.pickerVisible=e}}}):s._e()],1)]),e("div",{staticClass:"user-list"},[e("div",{staticClass:"acea-row item bgt"},[e("span",{staticClass:"sp1"},[s._v("用户等级")]),e("span",{staticClass:"sp2",domProps:{textContent:s._s(s.activeUserInfo.level_name||"无")}})]),e("div",{staticClass:"acea-row item bgt"},[e("span",{staticClass:"sp1"},[s._v("用户类型")]),e("span",{staticClass:"sp2"},[s._v(s._s(s._f("userType")(s.activeUserInfo.user_type)))])]),e("div",{staticClass:"acea-row item bgt"},[e("span",{staticClass:"sp1"},[s._v("余额")]),e("span",{staticClass:"sp2",domProps:{textContent:s._s(s.activeUserInfo.now_money||"无")}})]),e("div",{staticClass:"acea-row item bgt"},[e("span",{staticClass:"sp1"},[s._v("推广员")]),e("span",{staticClass:"sp2",domProps:{textContent:s._s(1===s.activeUserInfo.is_promoter?"是":"否")}})]),e("div",{staticClass:"acea-row item"},[e("span",{staticClass:"sp1"},[s._v("生日")]),e("span",{staticClass:"sp2",domProps:{textContent:s._s(s.activeUserInfo.birthday||"无")}})])]),s.change?e("user-labels",{attrs:{change:s.change,labelList:s.labelList,uid:Number(s.$route.params.uid)},on:{cancel:s.cancel,editLabel:s.editLabel,closeChange:s.closeChange}}):s._e()],1):s._e()}),[],!1,null,"b0e856e8",null);e.default=c.exports},6827:function(s,e,a){},"9abe":function(s,e,a){a("6827")},d855:function(s,e,a){a("334b")},e49f:function(s,e,a){a("ecf2")},ecf2:function(s,e,a){}}]);