(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2323bac2"],{"2c3e":function(e,t,i){var r=i("83ab"),a=i("9f7f").MISSED_STICKY,n=i("c6b6"),l=i("edd0"),o=i("69f3").get,s=RegExp.prototype,c=TypeError;r&&a&&l(s,"sticky",{configurable:!0,get:function(){if(this!==s){if("RegExp"===n(this))return!!o(this).sticky;throw new c("Incompatible receiver, RegExp required")}}})},"4d63":function(e,t,i){var r=i("83ab"),a=i("da84"),n=i("e330"),l=i("94ca"),o=i("7156"),s=i("9112"),c=i("7c73"),d=i("241c").f,m=i("3a9b"),u=i("44e7"),p=i("577e"),f=i("90d8"),h=i("9f7f"),b=i("aeb0"),v=i("cb2d"),g=i("d039"),_=i("1a2d"),y=i("69f3").enforce,k=i("2626"),w=i("b622"),F=i("fce3"),x=i("107c"),T=w("match"),M=a.RegExp,O=M.prototype,$=a.SyntaxError,S=n(O.exec),E=n("".charAt),j=n("".replace),C=n("".indexOf),L=n("".slice),R=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,D=/a/g,V=/a/g,N=(i=new M(D)!==D,h.MISSED_STICKY),q=h.UNSUPPORTED_Y;w=r&&(!i||N||F||x||g((function(){return V[T]=!1,M(D)!==D||M(V)===V||"/a/i"!==String(M(D,"i"))})));if(l("RegExp",w)){for(var I=function(e,t){var i,r,a=m(O,this),n=u(e),l=void 0===t,d=[],h=e;if(!a&&n&&l&&e.constructor===I)return e;if((n||m(O,e))&&(e=e.source,l)&&(t=f(h)),e=void 0===e?"":p(e),t=void 0===t?"":p(t),h=e,n=t=F&&"dotAll"in D&&(i=!!t&&-1<C(t,"s"))?j(t,/s/g,""):t,N&&"sticky"in D&&(r=!!t&&-1<C(t,"y"))&&q&&(t=j(t,/y/g,"")),x&&(e=(l=function(e){for(var t,i=e.length,r=0,a="",n=[],l=c(null),o=!1,s=!1,d=0,m="";r<=i;r++){if("\\"===(t=E(e,r)))t+=E(e,++r);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:S(R,L(e,r+1))&&(r+=2,s=!0),a+=t,d++;continue;case">"===t&&s:if(""===m||_(l,m))throw new $("Invalid capture group name");l[m]=!0,s=!(n[n.length]=[m,d]),m="";continue}s?m+=t:a+=t}return[a,n]}(e))[0],d=l[1]),l=o(M(e,t),a?this:O,I),(i||r||d.length)&&(t=y(l),i&&(t.dotAll=!0,t.raw=I(function(e){for(var t,i=e.length,r=0,a="",n=!1;r<=i;r++)"\\"===(t=E(e,r))?a+=t+E(e,++r):n||"."!==t?("["===t?n=!0:"]"===t&&(n=!1),a+=t):a+="[\\s\\S]";return a}(e),n)),r&&(t.sticky=!0),d.length)&&(t.groups=d),e!==h)try{s(l,"source",""===h?"(?:)":h)}catch(e){}return l},A=d(M),z=0;A.length>z;)b(I,M,A[z++]);(O.constructor=I).prototype=O,v(a,"RegExp",I,{constructor:!0})}k("RegExp")},5466:function(e,t,i){i("d4d2")},"61f7":function(e,t,i){i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return c}));var r=i("ade3"),a=i("5530");function n(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var i,r,a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(i in a)new RegExp("(".concat(i,")")).test(t)&&(r=a[i]+"",t=t.replace(RegExp.$1,1===RegExp.$1.length?r:("00"+r).substr(r.length)));return t}i("99af"),i("13d5"),i("b64b"),i("d3b7"),i("4d63"),i("c607"),i("ac1f"),i("2c3e"),i("00b4"),i("25f0"),i("5319"),i("498a");var l={min:"%s最小长度为:min",max:"%s最大长度为:max",length:"%s长度必须为:length",range:"%s长度为:range",pattern:"$s格式错误"};function o(e,t){e.message=function(e){return t.replace("%s",e||"")}}function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)({required:!0,message:e,type:"string"},t)}function c(e){return d.pattern(/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/,e)}o(s,"请输入%s"),o(c,"%s格式不正确");var d=Object.keys(l).reduce((function(e,t){return e[t]=function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},l="range"===t?{min:e[0],max:e[1]}:Object(r.a)({},t,e);return Object(a.a)(Object(a.a)({message:i.replace(":".concat(t),"range"===t?"".concat(e[0],"-").concat(e[1]):e),type:"string"},l),n)},o(e[t],l[t]),e}),{})},c607:function(e,t,i){var r=i("83ab"),a=i("fce3"),n=i("c6b6"),l=i("edd0"),o=i("69f3").get,s=RegExp.prototype,c=TypeError;r&&a&&l(s,"dotAll",{configurable:!0,get:function(){if(this!==s){if("RegExp"===n(this))return!!o(this).dotAll;throw new c("Incompatible receiver, RegExp required")}}})},ca99:function(e,t,i){i.r(t),i("b0c0");var r=i("c7eb"),a=i("1da1"),n=i("5530"),l=(i("a15b"),i("2f62")),o=i("1184"),s=i("61f7"),c=i("f8b7"),d=i("f8a9");n={name:"lotteryRecordList",filters:{formatDate:function(e){if(0!==e)return e=new Date(1e3*e),Object(s.a)(e,"yyyy-MM-dd hh:mm")}},data:function(){return{shipModel:!1,loading:!1,locationList:[],shipForm:{id:"",deliver_name:"",deliver_number:null},markForm:{id:"",mark:""},ruleShip:d.b,ruleMark:d.a,pickerOptions:this.$timeOptions,typeList:[{text:"全部",val:""},{text:"未中奖",val:"1"},{text:"积分",val:"2"},{text:"余额",val:"3"},{text:"红包",val:"4"},{text:"优惠券",val:"5"},{text:"商品",val:"6"}],tableList:[],grid:{xl:7,lg:10,md:12,sm:24,xs:24},tableFrom:{keyword:"",time:[],page:1,limit:15,lottery_id:0},total:0,timeVal:[],modelType:1,lottery_id:"",modelTitle:""}},computed:Object(n.a)(Object(n.a)({},Object(l.d)("admin/layout",["isMobile"])),{},{labelWidth:function(){return this.isMobile?void 0:"80px"},labelPosition:function(){return this.isMobile?"top":"right"}}),created:function(){this.tableFrom.lottery_id=this.$route.query.id,this.lottery_id=this.$route.query.id,this.getList(),this.getExpressData()},methods:{deliver:function(e,t){this.markForm.id=e.id,this.shipForm.id=e.id,this.shipForm.deliver_name="",this.shipForm.deliver_number="",this.markForm.mark=e.deliver_info.mark,this.modelType=t,this.shipModel=!0},isDeliver:function(e){this.markForm.id=e.id,this.shipForm.id=e.id,this.modelType=1,this.modelTitle="配送信息",this.shipModel=!0,this.shipForm.deliver_name=e.deliver_info.deliver_name,this.shipForm.deliver_number=e.deliver_info.deliver_number},ok:function(e){var t=this;this.$refs[e].validate((function(e){Object(o.h)(1==t.modelType?t.shipForm:t.markForm).then((function(e){t.$message.success("操作成功"),t.shipModel=!1,t.getList(),t.shipForm={id:"",deliver_name:"",deliver_number:null},t.modelTitle="",t.markForm={id:"",mark:""}})).catch((function(e){t.$message.error(e.msg)}))}))},cancel:function(){this.modelType=1,this.modelTitle="",this.shipModel=!1},getExpressData:function(){var e=this;Object(c.k)().then(function(){var t=Object(a.a)(Object(r.a)().mark((function t(i){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.locationList=i.data;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$message.error(t.msg)}))},onchangeTime:function(e){this.timeVal=e||[],this.tableFrom.time=this.timeVal[0]&&this.timeVal?this.timeVal.join("-"):"",this.tableFrom.page=1,this.getList()},selectChange:function(e){this.tableFrom.page=1,this.tableFrom.time=e,this.timeVal=[],this.getList()},selectType:function(e){this.tableFrom.page=1,this.timeVal=[],this.getList()},selectChangeFactor:function(){this.tableFrom.page=1,this.timeVal=[],this.getList()},getList:function(){var e=this;this.loading=!0,Object(o.i)(this.tableFrom).then(function(){var t=Object(a.a)(Object(r.a)().mark((function t(i){var a;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=i.data,e.tableList=a.list,e.total=i.data.count,e.loading=!1;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.loading=!1,e.$message.error(t.msg)}))},userSearchs:function(){this.tableFrom.page=1,this.getList()}}},i("5466"),l=i("2877"),i=Object(l.a)(n,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"i-layout-page-header header-title"},[t("div",{staticClass:"fl_header"},[t("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"btn-back",attrs:{icon:"el-icon-arrow-left",size:"small",type:"text"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")]),t("el-divider",{attrs:{direction:"vertical"}}),t("span",{staticClass:"ivu-page-header-title"},[e._v(e._s(e.$route.meta.title))])],1)]),t("el-card",{staticClass:"ivu-mt",attrs:{bordered:!1,shadow:"never","body-style":{padding:0}}},[t("div",{staticClass:"padding-add"},[t("el-form",{ref:"tableFrom",attrs:{model:e.tableFrom,"label-width":e.labelWidth,"label-position":"right",inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:"时间选择："}},[t("el-date-picker",{staticStyle:{width:"250px"},attrs:{clearable:"",type:"daterange",editable:!1,format:"yyyy/MM/dd","value-format":"yyyy/MM/dd","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},on:{change:e.onchangeTime},model:{value:e.timeVal,callback:function(t){e.timeVal=t},expression:"timeVal"}})],1),t("el-form-item",{attrs:{label:"奖品类型："}},[t("el-select",{staticClass:"form_content_width",attrs:{type:"button",clearable:""},on:{change:e.selectType},model:{value:e.tableFrom.type,callback:function(t){e.$set(e.tableFrom,"type",t)},expression:"tableFrom.type"}},e._l(e.typeList,(function(e,i){return t("el-option",{key:i,attrs:{label:e.text,value:e.val}})})),1)],1),t("el-form-item",{attrs:{label:"搜索用户：","label-for":"store_name"}},[t("el-input",{staticClass:"form_content_width",attrs:{clearable:"",placeholder:"请输入用户信息"},model:{value:e.tableFrom.keyword,callback:function(t){e.$set(e.tableFrom,"keyword",t)},expression:"tableFrom.keyword"}})],1),t("el-form-item",[t("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],attrs:{type:"primary"},on:{click:e.userSearchs}},[e._v("查询")])],1)],1)],1)]),t("el-card",{staticClass:"ivu-mt mt16",attrs:{bordered:!1,shadow:"never"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableList,"highlight-current-row":"","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"}},[t("el-table-column",{attrs:{label:"ID",width:"80"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("div",[e._v(e._s(i.row.id))])]}}])}),t("el-table-column",{attrs:{label:"用户信息","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",[e._v(e._s(i.row.user.nickname)+" ")])]}}])}),t("el-table-column",{attrs:{label:"奖品信息","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("div",{staticClass:"prize"},[t("img",{attrs:{src:i.row.prize.image,alt:""}}),t("span",[e._v(e._s(i.row.prize.name))])])]}}])}),t("el-table-column",{attrs:{label:"抽奖时间","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("div",[e._v(e._s(i.row.add_time))])]}}])}),t("el-table-column",{attrs:{label:"收货信息","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(i){return[i.row.receive_info.name?t("div",[t("div",[e._v("姓名："+e._s(i.row.receive_info.name))]),t("div",[e._v("电话："+e._s(i.row.receive_info.phone))]),t("div",[e._v("地址："+e._s(i.row.receive_info.address))]),i.row.receive_info.mark?t("div",[e._v("备注："+e._s(i.row.receive_info.mark))]):e._e()]):e._e()]}}])}),t("el-table-column",{attrs:{label:"备注","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",[e._v(e._s(i.row.deliver_info.mark))])]}}])}),t("el-table-column",{attrs:{label:"操作",fixed:"right",width:"120"},scopedSlots:e._u([{key:"default",fn:function(i){return[6==i.row.type&&0===i.row.is_deliver?t("a",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(t){return e.deliver(i.row,1)}}},[e._v("发货")]):6==i.row.type&&1===i.row.is_deliver?t("a",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(t){return e.isDeliver(i.row)}}},[e._v("配送信息")]):e._e(),6==i.row.type?t("el-divider",{attrs:{direction:"vertical"}}):e._e(),t("a",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(t){return e.deliver(i.row,2)}}},[e._v("备注")])]}}])})],1),t("div",{staticClass:"acea-row row-right page"},[e.total?t("pagination",{attrs:{total:e.total,page:e.tableFrom.page,limit:e.tableFrom.limit},on:{"update:page":function(t){return e.$set(e.tableFrom,"page",t)},"update:limit":function(t){return e.$set(e.tableFrom,"limit",t)},pagination:e.getList}}):e._e()],1)],1),t("el-dialog",{attrs:{visible:e.shipModel,width:"540px",title:e.modelTitle||(1===e.modelType?"发货":"备注"),"close-on-click-modal":!1},on:{"update:visible":function(t){e.shipModel=t}}},[t("el-form",{ref:1===e.modelType?"shipForm":"markForm",attrs:{model:1===e.modelType?e.shipForm:e.markForm,rules:1===e.modelType?e.ruleShip:e.ruleMark,"label-width":"90px"},model:{value:e.shipModel,callback:function(t){e.shipModel=t},expression:"shipModel"}},[1===e.modelType?t("el-form-item",{attrs:{label:"快递公司：",prop:"deliver_name"}},[t("el-select",{staticClass:"w100",model:{value:e.shipForm.deliver_name,callback:function(t){e.$set(e.shipForm,"deliver_name",t)},expression:"shipForm.deliver_name"}},e._l(e.locationList,(function(e){return t("el-option",{key:e.id,attrs:{value:e.value,label:e.value}})})),1)],1):e._e(),1===e.modelType?t("el-form-item",{attrs:{label:"快递单号：",prop:"deliver_number"}},[t("el-input",{staticClass:"w100",attrs:{placeholder:"请输入快递单号"},model:{value:e.shipForm.deliver_number,callback:function(t){e.$set(e.shipForm,"deliver_number",t)},expression:"shipForm.deliver_number"}}),"顺丰速运"==e.shipForm.deliver_name?t("div",{staticClass:"tips-info"},[t("p",[e._v("顺丰请输入单号 :收件人或寄件人手机号后四位")]),t("p",[e._v("例如：SF000000000000:3941")])]):e._e()],1):e._e(),2===e.modelType?t("el-form-item",{attrs:{label:"备注："}},[t("el-input",{staticClass:"w100",attrs:{placeholder:"请输入备注"},model:{value:e.markForm.mark,callback:function(t){e.$set(e.markForm,"mark",t)},expression:"markForm.mark"}})],1):e._e(),t("el-form-item",[t("div",{staticClass:"acea-row row-right"},[t("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(t){return e.cancel("formValidate")}}},[e._v("关闭")]),t("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],attrs:{type:"primary"},on:{click:function(t){return e.ok(1===e.modelType?"shipForm":"markForm")}}},[e._v("提交")])],1)])],1)],1)],1)}),[],!1,null,"449bd86e",null);t.default=i.exports},d4d2:function(e,t,i){},f8a9:function(e,t,i){i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return a}));var r={deliver_name:[{required:!0,type:"string",message:"请选择快递公司",trigger:"select"}],deliver_number:[{required:!0,message:"请输入快递单号",trigger:"blur"}]},a={mark:[{required:!0,message:"请输入备注信息",trigger:"blur"}]}}}]);