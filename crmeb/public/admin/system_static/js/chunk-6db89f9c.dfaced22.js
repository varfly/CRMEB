(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6db89f9c"],{1194:function(e,t,r){r("a770")},"2c3e":function(e,t,r){var a=r("83ab"),s=r("9f7f").MISSED_STICKY,i=r("c6b6"),n=r("edd0"),o=r("69f3").get,c=RegExp.prototype,d=TypeError;a&&s&&n(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===i(this))return!!o(this).sticky;throw new d("Incompatible receiver, RegExp required")}}})},"4d63":function(e,t,r){var a=r("83ab"),s=r("da84"),i=r("e330"),n=r("94ca"),o=r("7156"),c=r("9112"),d=r("7c73"),l=r("241c").f,f=r("3a9b"),u=r("44e7"),v=r("577e"),p=r("90d8"),_=r("9f7f"),m=r("aeb0"),g=r("cb2d"),h=r("d039"),w=r("1a2d"),b=r("69f3").enforce,y=r("2626"),C=r("b622"),I=r("fce3"),k=r("107c"),x=C("match"),$=s.RegExp,O=$.prototype,j=s.SyntaxError,E=i(O.exec),N=i("".charAt),P=i("".replace),R=i("".indexOf),T=i("".slice),S=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Y=/a/g,A=/a/g,D=(r=new $(Y)!==Y,_.MISSED_STICKY),M=_.UNSUPPORTED_Y;C=a&&(!r||D||I||k||h((function(){return A[x]=!1,$(Y)!==Y||$(A)===A||"/a/i"!==String($(Y,"i"))})));if(n("RegExp",C)){for(var z=function(e,t){var r,a,s=f(O,this),i=u(e),n=void 0===t,l=[],_=e;if(!s&&i&&n&&e.constructor===z)return e;if((i||f(O,e))&&(e=e.source,n)&&(t=p(_)),e=void 0===e?"":v(e),t=void 0===t?"":v(t),_=e,i=t=I&&"dotAll"in Y&&(r=!!t&&-1<R(t,"s"))?P(t,/s/g,""):t,D&&"sticky"in Y&&(a=!!t&&-1<R(t,"y"))&&M&&(t=P(t,/y/g,"")),k&&(e=(n=function(e){for(var t,r=e.length,a=0,s="",i=[],n=d(null),o=!1,c=!1,l=0,f="";a<=r;a++){if("\\"===(t=N(e,a)))t+=N(e,++a);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:E(S,T(e,a+1))&&(a+=2,c=!0),s+=t,l++;continue;case">"===t&&c:if(""===f||w(n,f))throw new j("Invalid capture group name");n[f]=!0,c=!(i[i.length]=[f,l]),f="";continue}c?f+=t:s+=t}return[s,i]}(e))[0],l=n[1]),n=o($(e,t),s?this:O,z),(r||a||l.length)&&(t=b(n),r&&(t.dotAll=!0,t.raw=z(function(e){for(var t,r=e.length,a=0,s="",i=!1;a<=r;a++)"\\"===(t=N(e,a))?s+=t+N(e,++a):i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),s+=t):s+="[\\s\\S]";return s}(e),i)),a&&(t.sticky=!0),l.length)&&(t.groups=l),e!==_)try{c(n,"source",""===_?"(?:)":_)}catch(e){}return n},q=l($),U=0;q.length>U;)m(z,$,q[U++]);(O.constructor=z).prototype=O,g(s,"RegExp",z,{constructor:!0})}y("RegExp")},"61f7":function(e,t,r){r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return d}));var a=r("ade3"),s=r("5530");function i(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var r,a,s={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(r in s)new RegExp("(".concat(r,")")).test(t)&&(a=s[r]+"",t=t.replace(RegExp.$1,1===RegExp.$1.length?a:("00"+a).substr(a.length)));return t}r("99af"),r("13d5"),r("b64b"),r("d3b7"),r("4d63"),r("c607"),r("ac1f"),r("2c3e"),r("00b4"),r("25f0"),r("5319"),r("498a");var n={min:"%s最小长度为:min",max:"%s最大长度为:max",length:"%s长度必须为:length",range:"%s长度为:range",pattern:"$s格式错误"};function o(e,t){e.message=function(e){return t.replace("%s",e||"")}}function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object(s.a)({required:!0,message:e,type:"string"},t)}function d(e){return l.pattern(/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/,e)}o(c,"请输入%s"),o(d,"%s格式不正确");var l=Object.keys(n).reduce((function(e,t){return e[t]=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n="range"===t?{min:e[0],max:e[1]}:Object(a.a)({},t,e);return Object(s.a)(Object(s.a)({message:r.replace(":".concat(t),"range"===t?"".concat(e[0],"-").concat(e[1]):e),type:"string"},n),i)},o(e[t],n[t]),e}),{})},"8c8a":function(e,t,r){var a=r("c7eb"),s=r("1da1"),i=(r("a9e3"),r("61f7")),n=r("69ae"),o=r("42e3"),c={name:"PriceChange",components:{},props:{change:Boolean,orderInfo:{type:Object,default:null},status:{type:Number,default:0}},data:function(){return{focus:!1,price:0,refund_price:0,remark:""}},watch:{orderInfo:function(){this.price=this.orderInfo.pay_price,this.refund_price=this.orderInfo.pay_price,this.remark=this.orderInfo.remark}},methods:{priceChange:function(){this.focus=!0},close:function(){this.price=this.orderInfo.pay_price,this.$emit("closeChange",!1)},save:function(){this.savePrice({price:this.price,refund_price:this.refund_price,type:1,remark:this.remark,id:this.orderInfo.id,order_id:this.orderInfo.order_id})},savePrice:function(e){var t=this;return Object(s.a)(Object(a.a)().mark((function r(){var s,c,d,l,f,u;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s=t,c={},d=e.price,l=e.refund_price,f=s.orderInfo.refund_status,u=e.remark,0==s.status&&0===f)return r.prev=2,r.next=5,t.$validator({price:[Object(i.c)(i.c.message("金额")),Object(i.b)(i.b.message("金额"))]}).validate({price:d});r.next=19;break;case 5:r.next=10;break;case 7:return r.prev=7,r.t0=r.catch(2),r.abrupt("return",Object(n.b)(r.t0));case 10:c.total_price=t.orderInfo.total_price,c.total_postage=t.orderInfo.total_price,c.pay_postage=t.orderInfo.pay_postage,c.gain_integral=t.orderInfo.gain_integral,c.pay_price=e.price,c.order_id=e.order_id,Object(o.f)(e.id,c).then((function(){t.$emit("closechange",!1),s.$dialog.success("改价成功")})).catch((function(e){s.$dialog.error(e.msg)})),r.next=45;break;case 19:if(0==s.status&&1===f)return r.prev=20,r.next=23,t.$validator({refund_price:[Object(i.c)(i.c.message("金额")),Object(i.b)(i.b.message("金额"))]}).validate({refund_price:l});r.next=34;break;case 23:r.next=28;break;case 25:return r.prev=25,r.t1=r.catch(20),r.abrupt("return",Object(n.b)(r.t1));case 28:c.price=e.refund_price,c.type=e.type,c.order_id=e.order_id,Object(o.w)(c).then((function(e){t.$emit("closechange",!1),s.$dialog.success("操作成功")}),(function(e){t.$emit("closechange",!1),s.$dialog.error(e.msg)})),r.next=45;break;case 34:return r.prev=34,r.next=37,t.$validator({remark:[Object(i.c)(i.c.message("备注"))]}).validate({remark:u});case 37:r.next=42;break;case 39:return r.prev=39,r.t2=r.catch(34),r.abrupt("return",Object(n.b)(r.t2));case 42:c.remark=u,c.order_id=e.order_id,Object(o.x)(c).then((function(e){t.$emit("closechange",!1),s.$dialog.success("提交成功")}),(function(e){t.$emit("closechange",!1),s.$dialog.error(e.msg)}));case 45:case"end":return r.stop()}}),r,null,[[2,7],[20,25],[34,39]])})))()},refuse:function(){this.savePrice({price:this.price,refund_price:this.refund_price,type:2,remark:this.remark,id:this.orderInfo.id,order_id:this.orderInfo.order_id})}}};r("1194"),r=r("2877"),r=Object(r.a)(c,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"priceChange",class:!0===e.change?"on":""},[t("div",{staticClass:"priceTitle"},[e._v("\n      "+e._s(0===e.status?1===e.orderInfo.refund_status?"立即退款":"一键改价":"订单备注")+"\n      "),t("span",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"iconfontYI icon-guanbi",on:{click:e.close}})]),0===e.status?t("div",{staticClass:"listChange"},[0===e.orderInfo.refund_status?t("div",{staticClass:"item acea-row row-between-wrapper"},[t("div",[e._v("商品总价(¥)")]),t("div",{staticClass:"money"},[e._v(e._s(e.orderInfo.total_price)),t("span",{staticClass:"iconfontYI icon-suozi"})])]):e._e(),0===e.orderInfo.refund_status?t("div",{staticClass:"item acea-row row-between-wrapper"},[t("div",[e._v("原始邮费(¥)")]),t("div",{staticClass:"money"},[e._v(e._s(e.orderInfo.pay_postage)),t("span",{staticClass:"iconfontYI icon-suozi"})])]):e._e(),0===e.orderInfo.refund_status?t("div",{staticClass:"item acea-row row-between-wrapper"},[t("div",[e._v("实际支付(¥)")]),t("div",{staticClass:"money"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"price"}],class:!0===e.focus?"on":"",attrs:{type:"text"},domProps:{value:e.price},on:{focus:e.priceChange,input:function(t){t.target.composing||(e.price=t.target.value)}}})])]):e._e(),1===e.orderInfo.refund_status?t("div",{staticClass:"item acea-row row-between-wrapper"},[t("div",[e._v("实际支付(¥)")]),t("div",{staticClass:"money"},[e._v(e._s(e.orderInfo.pay_price)),t("span",{staticClass:"iconfontYI icon-suozi"})])]):e._e(),1===e.orderInfo.refund_status?t("div",{staticClass:"item acea-row row-between-wrapper"},[t("div",[e._v("退款金额(¥)")]),t("div",{staticClass:"money"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.refund_price,expression:"refund_price"}],class:!0===e.focus?"on":"",attrs:{type:"text"},domProps:{value:e.refund_price},on:{focus:e.priceChange,input:function(t){t.target.composing||(e.refund_price=t.target.value)}}})])]):e._e()]):t("div",{staticClass:"listChange"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.remark,expression:"remark"}],attrs:{placeholder:e.orderInfo.remark||"请填写备注信息...",maxlength:"100"},domProps:{value:e.remark},on:{input:function(t){t.target.composing||(e.remark=t.target.value)}}})]),t("div",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"modify",on:{click:e.save}},[e._v("\n      "+e._s(0===e.orderInfo.refund_status||1===e.status?"立即修改":"确认退款")+"\n    ")]),1===e.orderInfo.refund_status&&0===e.status?t("div",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"modify1",on:{click:e.refuse}},[e._v("\n      拒绝退款\n    ")]):e._e()]),t("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.change,expression:"change === true"}],staticClass:"maskModel",on:{touchmove:function(e){e.preventDefault()}}})])}),[],!1,null,"e20391c4",null);t.a=r.exports},"95d6":function(e,t,r){},a770:function(e,t,r){},a8fa:function(e,t,r){r("95d6")},afa3:function(e,t,r){e.exports=r.p+"system_static/img/line.05bf1c84.jpg"},c607:function(e,t,r){var a=r("83ab"),s=r("fce3"),i=r("c6b6"),n=r("edd0"),o=r("69f3").get,c=RegExp.prototype,d=TypeError;a&&s&&n(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===i(this))return!!o(this).dotAll;throw new d("Incompatible receiver, RegExp required")}}})},f23d:function(e,t,r){r.r(t);var a=[function(){var e=this._self._c;return e("div",{staticClass:"line"},[e("img",{attrs:{src:r("afa3")}})])}],s=r("8c8a"),i=r("42e3"),n=(s=(r("61f7"),r("69ae"),{name:"AdminOrder",components:{PriceChange:s.a},props:{},data:function(){return{order:!1,change:!1,orderId:"",orderInfo:{},status:0,title:"",payType:"",types:""}},watch:{"$route.params.id":function(e){null!=e&&(this.orderId=e,this.getIndex())}},mounted:function(){this.getIndex()},methods:{more:function(){this.order=!this.order},modify:function(e){this.change=!0,this.status=e},changeclose:function(e){this.change=e,this.getIndex()},closeChange:function(e){this.change=e},copyText:function(e){var t=this;this.$copyText(e).then((function(e){t.$message.success("复制成功")})).catch((function(e){t.$message.error("复制失败")}))},getIndex:function(){var e=this;Object(i.u)(this.$route.params.id).then((function(t){e.orderInfo=t.data.orderInfo,e.types=t.data.orderInfo._status._type,e.title=t.data.orderInfo._status._title}),(function(t){e.$dialog.error(t.msg)}))},offlinePay:function(){var e=this;setOfflinePay({orderId:this.orderInfo.orderId}).then((function(t){e.$dialog.success(t.msg),e.getIndex()}),(function(t){e.$dialog.error(t.msg)}))}}}),r("a8fa"),r("2877"));n=Object(n.a)(s,(function(){var e=this,t=e._self._c;return e.orderInfo?t("div",{staticClass:"order-details pos-order-details"},[t("div",{staticClass:"header acea-row row-middle"},[t("div",{staticClass:"state"},[e._v(e._s(e.title))]),t("div",{staticClass:"data"},[t("div",{staticClass:"order-num"},[e._v("订单："+e._s(e.orderInfo.order_id))]),t("div",[t("span",{staticClass:"time"},[e._v(e._s(e.orderInfo._add_time))])])])]),"looks"!=e.$route.params.goname?t("div",{staticClass:"remarks acea-row"},[t("span",{staticClass:"iconfontYI icon-zhinengkefu- mr10"}),t("span",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"line1",staticStyle:{"text-align":"left"},domProps:{textContent:e._s(e.orderInfo.remark||"订单未备注，点击添加备注信息")},on:{click:function(t){return e.modify(1)}}})]):e._e(),t("div",{staticClass:"orderingUser acea-row row-middle"},[t("span",{staticClass:"iconfontYI icon-yonghu2"}),e._v(e._s(e.orderInfo.real_name)+"\n  ")]),t("div",{staticClass:"address"},[t("div",{staticClass:"name"},[e._v("\n      "+e._s(e.orderInfo.real_name)),t("span",{staticClass:"phone"},[e._v(e._s(e.orderInfo.user_phone))])]),t("div",[e._v(e._s(e.orderInfo.user_address))])]),e._m(0),t("div",{staticClass:"pos-order-goods"},e._l(e.orderInfo.cartInfo,(function(r,a){return t("div",{key:a,staticClass:"goods acea-row row-between-wrapper"},[t("div",{staticClass:"picTxt acea-row row-between-wrapper"},[t("div",{staticClass:"pictrue"},[t("img",{attrs:{src:r.productInfo.image}})]),t("div",{staticClass:"text"},[t("div",{staticClass:"info line2"},[e._v("\n            "+e._s(r.productInfo.store_name)+"\n          ")]),t("div",{staticClass:"attr"},[e._v(e._s(r.productInfo.attrInfo.suk))])])]),t("div",{staticClass:"money"},[t("div",{staticClass:"x-money"},[e._v("￥"+e._s(r.productInfo.attrInfo.price))]),t("div",{staticClass:"num"},[e._v("x"+e._s(r.cart_num))]),t("div",{staticClass:"y-money"},[e._v("￥"+e._s(r.productInfo.ot_price))])])])})),0),t("div",{staticClass:"public-total"},[e._v("\n    共"+e._s(e.orderInfo.cart_num)+"件商品，应支付 "),t("span",{staticClass:"money"},[e._v("￥"+e._s(e.orderInfo.pay_price))]),e._v(" ( 邮费 ¥"+e._s(e.orderInfo.pay_postage)+"\n    )\n  ")]),t("div",{staticClass:"wrapper"},[t("div",{staticClass:"item acea-row row-between"},[t("div",[e._v("订单编号：")]),t("div",{staticClass:"conter acea-row row-middle row-right"},[e._v("\n        "+e._s(e.orderInfo.order_id)+"\n        "),t("span",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"copy copy-data",on:{click:function(t){return e.copyText(e.orderInfo.order_id)}}},[e._v("复制")])])]),t("div",{staticClass:"item acea-row row-between"},[t("div",[e._v("支付时间：")]),t("div",{staticClass:"conter"},[e._v(e._s(e.orderInfo._pay_time))])]),t("div",{staticClass:"item acea-row row-between"},[t("div",[e._v("支付状态：")]),t("div",{staticClass:"conter"},[e._v("\n        "+e._s(e.title)+"\n      ")])]),t("div",{staticClass:"item acea-row row-between"},[t("div",[e._v("支付方式：")]),t("div",{staticClass:"conter"},[e._v("\n        "+e._s(e.orderInfo._status?e.orderInfo._status._payType:"")+"\n      ")])]),t("div",{staticClass:"item acea-row row-between"},[t("div",[e._v("买家留言：")]),t("div",{staticClass:"conter"},[e._v(e._s(e.orderInfo.mark))])])]),t("div",{staticClass:"wrapper"},[t("div",{staticClass:"item acea-row row-between"},[t("div",[e._v("支付金额：")]),t("div",{staticClass:"conter"},[e._v("￥"+e._s(e.orderInfo.total_price))])]),t("div",{staticClass:"item acea-row row-between"},[t("div",[e._v("优惠券抵扣：")]),t("div",{staticClass:"conter"},[e._v("-￥"+e._s(e.orderInfo.coupon_price))])]),t("div",{staticClass:"item acea-row row-between"},[t("div",[e._v("运费：")]),t("div",{staticClass:"conter"},[e._v("￥"+e._s(e.orderInfo.total_postage))])]),t("div",{staticClass:"actualPay acea-row row-right"},[e._v("\n      实付款："),t("span",{staticClass:"money font-color-red"},[e._v("￥"+e._s(e.orderInfo.pay_price))])])]),"express"===e.orderInfo.deliveryType?t("div",{staticClass:"wrapper"},[t("div",{staticClass:"item acea-row row-between"},[t("div",[e._v("配送方式：")]),"express"===e.orderInfo.delivery_type?t("div",{staticClass:"conter"},[e._v("快递")]):e._e(),"send"===e.orderInfo.delivery_type?t("div",{staticClass:"conter"},[e._v("送货")]):e._e()]),t("div",{staticClass:"item acea-row row-between"},["express"===e.orderInfo.delivery_type?t("div",[e._v("快递公司：")]):e._e(),"send"===e.orderInfo.delivery_type?t("div",[e._v("送货人：")]):e._e(),t("div",{staticClass:"conter"},[e._v(e._s(e.orderInfo.deliveryName))])]),t("div",{staticClass:"item acea-row row-between"},["express"===e.orderInfo.delivery_type?t("div",[e._v("快递单号：")]):e._e(),"send"===e.orderInfo.delivery_type?t("div",[e._v("送货人电话：")]):e._e(),t("div",{staticClass:"conter"},[e._v("\n        "+e._s(e.orderInfo.delivery_id)),t("span",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"copy copy-data",on:{click:function(t){return e.copyText(e.orderInfo.delivery_id)}}},[e._v("复制")])])])]):e._e(),t("div",{staticStyle:{height:"1.2rem"}}),"looks"!=e.$route.params.goname?t("div",{staticClass:"footer acea-row row-right row-middle"},[t("div",{staticClass:"more"}),0===e.types?t("div",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"bnt cancel",on:{click:function(t){return e.modify(0)}}},[e._v("一键改价")]):e._e(),-1===e.types?t("div",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"bnt cancel",on:{click:function(t){return e.modify(0)}}},[e._v("立即退款")]):e._e(),t("div",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"bnt cancel",on:{click:function(t){return e.modify(1)}}},[e._v("订单备注")]),"offline"===e.orderInfo.pay_type&&0===e.orderInfo.paid?t("div",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"bnt cancel",on:{click:e.offlinePay}},[e._v("\n      确认付款\n    ")]):e._e(),1===e.types&&2!==e.orderInfo.shipping_type?t("router-link",{staticClass:"bnt delivery",attrs:{to:"/kefu/orderDelivery/"+e.orderInfo.id+"/"+e.orderInfo.order_id}},[e._v("去发货\n    ")]):e._e()],1):e._e(),t("PriceChange",{attrs:{change:e.change,orderInfo:e.orderInfo,status:e.status},on:{closechange:function(t){return e.changeclose(t)},closeChange:function(t){return e.closeChange(t)}}})],1):e._e()}),a,!1,null,"42c84ae6",null);t.default=n.exports}}]);