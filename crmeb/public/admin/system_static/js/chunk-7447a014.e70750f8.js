(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7447a014"],{"0db7":function(t,e,i){},"213f":function(t,e,i){i("0db7")},"6d86":function(t,e,i){i.r(e),i("498a");var a=i("5530"),r=i("2f62"),o=i("c24f");a={components:{uploadPictures:i("b0e7").a},data:function(){return{tbody:[],loading:!1,total:0,page:1,limit:30,modal1:!1,form:{id:"",right_type:"",title:"",show_title:"",image:"",explain:"",number:1,status:1},rules:{title:[{required:!0,message:"请输入权益名称",trigger:"blur"}],show_title:[{required:!0,message:"请输入展示名称",trigger:"blur"}],image:[{required:!0,message:"请上传权益图标"}],explain:[{required:!0,message:"请输入权益简介",trigger:"blur"}],number:[{required:!0,type:"integer",message:"请输入正整数"}]},modal2:!1,gridPic:{xl:6,lg:8,md:12,sm:12,xs:12},gridBtn:{xl:4,lg:8,md:8,sm:8,xs:8}}},computed:Object(a.a)({},Object(r.d)("media",["isMobile"])),created:function(){this.getRightList()},methods:{getRightList:function(){var t=this;this.loading=!0,Object(o.x)().then((function(e){e=e.data;var i=e.count;e=e.list;t.loading=!1,t.total=i,t.tbody=e})).catch((function(e){t.loading=!1,t.$message.error(e)}))},statusChange:function(t){this.form.id=t.id,this.form.right_type=t.right_type,this.form.title=t.title,this.form.show_title=t.show_title,this.form.image=t.image,this.form.explain=t.explain,this.form.number=t.number,this.form.status=t.status,this.rightSave()},edit:function(t){this.modal1=!0,this.form.id=t.id,this.form.status=t.status,this.form.right_type=t.right_type,this.form.title=t.title,this.form.show_title=t.show_title,this.form.image=t.image,this.form.explain=t.explain,this.form.number=t.number},rightSave:function(){var t=this;Object(o.y)(this.form).then((function(e){t.modal1=!1,t.getRightList(),t.$message.success(e.msg)})).catch((function(e){t.$message.error(e.msg)}))},formSubmit:function(t){var e=this;this.$refs[t].validate((function(t){t&&e.rightSave()}))},callImage:function(){this.modal2=!0},getPic:function(t){this.form.image=t.att_dir,this.modal2=!1}}},i("213f"),r=i("2877"),i=Object(r.a)(a,(function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticClass:"ivu-mt",attrs:{bordered:!1,shadow:"never"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.tbody,"highlight-current-row":"","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"}},[e("el-table-column",{attrs:{label:"权益名称","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(t._s(i.row.title))])]}}])}),e("el-table-column",{attrs:{label:"展示名称","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(t._s(i.row.show_title))])]}}])}),e("el-table-column",{attrs:{label:"权益图标","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"image-wrap"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.row.image,expression:"scope.row.image"}]})])]}}])}),e("el-table-column",{attrs:{label:"权益简介","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(t._s(i.row.explain))])]}}])}),e("el-table-column",{attrs:{label:"权益状态","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-switch",{staticClass:"defineSwitch",attrs:{"active-value":1,"inactive-value":0,size:"large","active-text":"启用","inactive-text":"禁用"},on:{change:function(e){return t.statusChange(i.row)}},model:{value:i.row.status,callback:function(e){t.$set(i.row,"status",e)},expression:"scope.row.status"}})]}}])}),e("el-table-column",{attrs:{label:"操作",fixed:"right",width:"170"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("a",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(e){return t.edit(i.row)}}},[t._v("编辑")])]}}])})],1),e("div",{staticClass:"acea-row row-right page"},[t.total?e("pagination",{attrs:{total:t.total,page:t.page,limit:t.limit},on:{"update:page":function(e){t.page=e},"update:limit":function(e){t.limit=e},pagination:t.getRightList}}):t._e()],1)],1),e("el-dialog",{attrs:{visible:t.modal1,title:"编辑会员权益",width:"540px"},on:{"update:visible":function(e){t.modal1=e}}},[e("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"90px"}},[e("el-input",{staticStyle:{display:"none"},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}}),e("el-input",{staticStyle:{display:"none"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}}),e("el-input",{staticStyle:{display:"none"},model:{value:t.form.right_type,callback:function(e){t.$set(t.form,"right_type",e)},expression:"form.right_type"}}),e("el-form-item",{attrs:{label:"权益名称：",prop:"title"}},[e("el-input",{staticClass:"w100",attrs:{placeholder:"请输入权益名称",disabled:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title","string"==typeof e?e.trim():e)},expression:"form.title"}})],1),e("el-form-item",{attrs:{label:"展示名称：",prop:"show_title"}},[e("el-input",{staticClass:"w100",attrs:{placeholder:"请输入展示名称"},model:{value:t.form.show_title,callback:function(e){t.$set(t.form,"show_title","string"==typeof e?e.trim():e)},expression:"form.show_title"}})],1),e("el-form-item",{attrs:{label:"权益图标：",prop:"image"}},[e("div",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"image-group",on:{click:t.callImage}},[t.form.image?e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.form.image,expression:"form.image"}]}):e("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"24px"}})]),e("el-input",{staticStyle:{display:"none"},model:{value:t.form.image,callback:function(e){t.$set(t.form,"image",e)},expression:"form.image"}})],1),e("el-form-item",{attrs:{label:"权益简介：",prop:"show_title"}},[e("el-input",{staticClass:"w100",attrs:{type:"textarea",autosize:{minRows:2,maxRows:10},placeholder:"请输入权益简介"},model:{value:t.form.explain,callback:function(e){t.$set(t.form,"explain","string"==typeof e?e.trim():e)},expression:"form.explain"}})],1),e("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"coupon"!==t.form.right_type&&"vip_price"!==t.form.right_type,expression:"form.right_type !== 'coupon' && form.right_type !== 'vip_price'"}],attrs:{label:"offline"===t.form.right_type||"express"===t.form.right_type||"vip_price"===t.form.right_type?"折扣数(%)：":"积分倍数：",prop:"number"}},[e("el-input-number",{attrs:{controls:!1,min:1},model:{value:t.form.number,callback:function(e){t.$set(t.form,"number",e)},expression:"form.number"}})],1),e("el-form-item",[e("div",{staticClass:"acea-row row-right"},[e("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],attrs:{type:"primary"},on:{click:function(e){return t.formSubmit("form")}}},[t._v("提交")])],1)])],1)],1),e("el-dialog",{attrs:{visible:t.modal2,width:"1024px",title:"选择权益图标"},on:{"update:visible":function(e){t.modal2=e}}},[t.modal2?e("uploadPictures",{attrs:{isChoice:"单选",gridBtn:t.gridBtn,gridPic:t.gridPic},on:{getPic:t.getPic}}):t._e()],1)],1)}),[],!1,null,"7a96bd32",null);e.default=i.exports}}]);