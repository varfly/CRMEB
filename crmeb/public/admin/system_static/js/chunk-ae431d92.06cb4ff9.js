(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ae431d92"],{"2d3e":function(t,s,a){a("e10a")},5743:function(t,s,a){},"6c3f":function(t,s,a){a("b293")},"7afb":function(t,s,a){a.r(s),a("4e82"),a("b0c0");var e=a("5530"),i=(a("d81d"),a("14d9"),a("a434"),a("2f62")),l=a("47c5"),n={name:"live_detail",data:function(){return{option:{form:{labelWidth:"150px"}},FormData:{},loading:!1}},methods:{getData:function(t){var s=this;this.loading=!0,Object(l.d)(t).then((function(t){s.FormData=t.data,s.loading=!1})).catch((function(t){s.$message.error(t.msg),s.loading=!1}))}}},o=(a("6c3f"),a("2877")),c=(n=Object(o.a)(n,(function(){var t=this,s=t._self._c;return s("div",{staticClass:"divBox"},[s("div",[s("div",{staticClass:"box-container"},[s("div",{staticClass:"list sp"},[s("label",{staticClass:"name"},[t._v("直播间名称：")]),s("span",{staticClass:"info"},[t._v(t._s(t.FormData.name))])]),s("div",{staticClass:"list sp"},[s("label",{staticClass:"name"},[t._v("主播微信号：")]),s("span",{staticClass:"info"},[t._v(t._s(t.FormData.anchor_wechat))])]),s("div",{staticClass:"list sp"},[s("label",{staticClass:"name"},[t._v("直播间ID：")]),s("span",{staticClass:"info"},[t._v(t._s(t.FormData.id))]),s("span",{staticClass:"info"},[t._v("（微信直播间ID："+t._s(t.FormData.room_id)+"）")])]),s("div",{staticClass:"list sp"},[s("label",{staticClass:"name"},[t._v("主播昵称：")]),s("span",{staticClass:"info"},[t._v(t._s(t.FormData.anchor_name))])]),s("div",{staticClass:"list sp"},[s("label",{staticClass:"name"},[t._v("手机号：")]),s("span",{staticClass:"info"},[t._v(t._s(t.FormData.phone))])]),s("div",{staticClass:"list sp"},[s("label",{staticClass:"name"},[t._v("直播状态：")]),s("span",{staticClass:"info"},[t._v(t._s(t._f("liveReviewStatusFilter")(t.FormData.live_status)))])]),s("div",{staticClass:"list sp"},[s("label",{staticClass:"name"},[t._v("直播开始时间：")]),s("span",{staticClass:"info"},[t._v(t._s(t.FormData.start_time))])]),s("div",{staticClass:"list sp"},[s("label",{staticClass:"name"},[t._v("直播结束时间：")]),s("span",{staticClass:"info"},[t._v(t._s(t.FormData.end_time))])]),s("div",{staticClass:"list sp"},[s("label",{staticClass:"name"},[t._v("直播间类型：")]),s("span",{staticClass:"info"},[t._v(t._s(t._f("broadcastType")(t.FormData.type)))])]),s("div",{staticClass:"list sp"},[s("label",{staticClass:"name"},[t._v("显示类型：")]),s("span",{staticClass:"info"},[t._v(t._s(t._f("broadcastDisplayType")(t.FormData.screen_type)))])]),s("div",{staticClass:"list sp image"},[s("label",{staticClass:"name"},[t._v("背景图：")]),s("img",{staticStyle:{"max-width":"150px",height:"80px"},attrs:{src:t.FormData.cover_img}})]),s("div",{staticClass:"list sp image"},[s("label",{staticClass:"name"},[t._v("分享图：")]),s("img",{staticStyle:{"max-width":"150px",height:"80px"},attrs:{src:t.FormData.share_img}})]),s("div",{staticClass:"list sp"},[s("label",{staticClass:"name"},[t._v("是否开启点赞：")]),s("span",{staticClass:"info blue"},[t._v(t._s(t._f("filterClose")(t.FormData.close_like)))])]),s("div",{staticClass:"list sp"},[s("label",{staticClass:"name"},[t._v("是否开启货架：")]),s("span",{staticClass:"info blue"},[t._v(t._s(t._f("filterClose")(t.FormData.close_goods)))])]),s("div",{staticClass:"list sp"},[s("label",{staticClass:"name"},[t._v("是否开启评论：")]),s("span",{staticClass:"info blue"},[t._v(t._s(t._f("filterClose")(t.FormData.close_comment)))])]),s("div",{staticClass:"list"},[s("label",{staticClass:"name"},[t._v("是否显示直播回放：")]),s("span",{staticClass:"info blue"},[t._v(t._s(t._f("filterClose")(t.FormData.replay_status)))])])])])])}),[],!1,null,"7f68792c",null).exports,a("99af"),a("c4ad")),d={name:"add_goods",components:{goodsList:c.default},props:{datas:{type:Object,default:function(){return{}}}},data:function(){return{modals:!1,goodsList:[]}},methods:{getProductId:function(t){var s=this;this.goodsList=this.goodsList.concat(t),this.$nextTick((function(t){setTimeout((function(){s.modals=!1}),300)}))},bindDelete:function(t){this.goodsList.splice(t,1)},bindSub:function(){var t=[];this.goodsList.map((function(s){t.push(s.product_id)})),this.$emit("getData",t)}}};a("2d3e"),n={name:"live",components:{detailsFrom:n,addGoods:Object(o.a)(d,(function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"item"},[s("span",[t._v("直播间名称：")]),t._v("\n    "+t._s(t.datas.name)+"\n  ")]),s("div",{staticClass:"item"},[s("span",[t._v("直播间ID：")]),t._v("\n    "+t._s(t.datas.id)+"\n  ")]),s("div",{staticClass:"item box"},[t._l(t.goodsList,(function(a,e){return s("div",{key:e,staticClass:"box-item"},[s("img",{attrs:{src:a.image,alt:""}}),s("i",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"el-icon-close",staticStyle:{"font-size":"20px"},on:{click:function(s){return t.bindDelete(e)}}})])})),s("div",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"upload-box",on:{click:function(s){t.modals=!0}}},[s("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"24px"}})])],2),s("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.bindSub}},[t._v("提交")]),s("el-dialog",{staticClass:"paymentFooter",attrs:{visible:t.modals,title:"商品列表",width:"1000px"},on:{"update:visible":function(s){t.modals=s}}},[t.modals?s("goods-list",{ref:"goodslist",attrs:{ischeckbox:!0,liveStatus:!0},on:{getProductId:t.getProductId}}):t._e()],1)],1)}),[],!1,null,"1c2c203f",null).exports,goodsList:c.default},data:function(){return{isShowBox:!1,modals:!1,total:0,grid:{xl:7,lg:7,md:12,sm:24,xs:24},formValidate:{status:"",kerword:"",page:1,limit:20},treeData:{withdrawal:[{title:"全部",value:""},{title:"直播中",value:1},{title:"未开始",value:2},{title:"已结束",value:3}]},columns1:[{key:"id",title:"直播间ID",minWidth:35},{key:"name",minWidth:35,title:"直播间名称"},{key:"anchor_name",minWidth:35,title:"主播昵称"},{key:"anchor_wechat",minWidth:35,title:"主播微信号"},{key:"start_time",minWidth:35,title:"直播开始时间"},{key:"end_time",minWidth:35,title:"计划结束时间"},{key:"add_time",minWidth:35,title:"创建时间"},{slot:"is_mer_show",title:"显示状态",minWidth:80},{slot:"status",minWidth:35,title:"直播状态"},{key:"sort",minWidth:35,title:"排序"},{slot:"action",fixed:"right",title:"操作",minWidth:120}],tabList:[],loading:!1,activeItem:{},selectIds:[]}},computed:Object(e.a)(Object(e.a)({},Object(i.d)("media",["isMobile"])),{},{labelWidth:function(){return this.isMobile?void 0:"80px"},labelPosition:function(){return this.isMobile?"top":"right"}}),created:function(){this.getList()},methods:{getList:function(){var t=this;this.loading=!0,Object(l.j)(this.formValidate).then((function(s){t.total=s.data.count,t.tabList=s.data.list,t.loading=!1}))},selChange:function(){this.formValidate.page=1,this.getList()},menusAdd:function(){this.$router.push({path:this.$routeProStr+"/marketing/live/add_live_room"})},onchangeIsShow:function(t){var s=this,a=t.id;t=t.is_show;Object(l.l)(a,t).then((function(t){s.$message.success(t.msg)})).catch((function(t){s.$message.error(t.msg)}))},detail:function(t){this.modals=!0,this.$refs.studioDetail.getData(t.id)},addGoods:function(t){this.selectIds=t.product_ids,this.activeItem=t,this.isShowBox=!0},getData:function(t){var s=this;Object(l.k)({room_id:this.activeItem.id,goods_ids:t}).then((function(t){s.$message.success(t.msg),s.isShowBox=!1,s.$refs.liveAdd.goodsList=[]})).catch((function(t){s.$message.error(t.msg),s.isShowBox=!1,s.$refs.liveAdd.goodsList=[]}))},syncRoom:function(){var t=this;Object(l.n)().then((function(s){t.$message.success(s.msg),t.getList()})).catch((function(s){t.$message.error(s.msg)}))},del:function(t,s,a){var e=this;s={title:s,num:a,url:"live/room/del/".concat(t.id),method:"DELETE",ids:""};this.$modalSure(s).then((function(t){e.$message.success(t.msg),e.tabList.splice(a,1),e.getList()})).catch((function(t){e.$message.error(t.msg)}))},getProductId:function(t){var s=[];t.map((function(t){s.push(t.product_id)})),this.getData(s)}}},a("8666"),d=Object(o.a)(n,(function(){var t=this,s=t._self._c;return s("div",[s("el-card",{staticClass:"ivu-mt",attrs:{bordered:!1,shadow:"never","body-style":{padding:0}}},[s("div",{staticClass:"padding-add"},[s("el-form",{ref:"formValidate",staticClass:"tabform",attrs:{model:t.formValidate,"label-width":t.labelWidth,"label-position":"right",inline:""},nativeOn:{submit:function(t){t.preventDefault()}}},[s("el-form-item",{attrs:{label:"直播状态："}},[s("el-select",{staticClass:"form_content_width",attrs:{clearable:""},on:{change:t.selChange},model:{value:t.formValidate.status,callback:function(s){t.$set(t.formValidate,"status",s)},expression:"formValidate.status"}},t._l(t.treeData.withdrawal,(function(t,a){return s("el-option",{key:a,attrs:{value:t.value,label:t.title}})})),1)],1),s("el-form-item",{attrs:{label:"搜索："}},[s("el-input",{staticClass:"form_content_width",attrs:{clearable:"",placeholder:"请输入直播间名称/ID/主播昵称/微信号"},model:{value:t.formValidate.kerword,callback:function(s){t.$set(t.formValidate,"kerword",s)},expression:"formValidate.kerword"}})],1),s("el-form-item",[s("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],attrs:{type:"primary"},on:{click:t.selChange}},[t._v("查询")])],1)],1)],1)]),s("el-card",{staticClass:"ivu-mt mt16",attrs:{bordered:!1,shadow:"never"}},[s("el-button",{directives:[{name:"auth",rawName:"v-auth",value:["setting-system_menus-add"],expression:"['setting-system_menus-add']"},{name:"db-click",rawName:"v-db-click"}],attrs:{type:"primary"},on:{click:function(s){return t.menusAdd("添加直播间")}}},[t._v("添加直播间")]),s("el-button",{directives:[{name:"auth",rawName:"v-auth",value:["setting-system_menus-add"],expression:"['setting-system_menus-add']"},{name:"db-click",rawName:"v-db-click"}],staticStyle:{"margin-left":"20px"},on:{click:t.syncRoom}},[t._v("同步直播间")]),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticClass:"mt14",attrs:{data:t.tabList,"highlight-current-row":"","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"}},[s("el-table-column",{attrs:{label:"直播间ID",width:"80"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("span",[t._v(t._s(a.row.id))])]}}])}),s("el-table-column",{attrs:{label:"直播间名称","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("span",[t._v(t._s(a.row.name))])]}}])}),s("el-table-column",{attrs:{label:"主播昵称","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("span",[t._v(t._s(a.row.anchor_name))])]}}])}),s("el-table-column",{attrs:{label:"主播微信号","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("span",[t._v(t._s(a.row.anchor_wechat))])]}}])}),s("el-table-column",{attrs:{label:"直播开始时间","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("span",[t._v(t._s(a.row.start_time))])]}}])}),s("el-table-column",{attrs:{label:"计划结束时间","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("span",[t._v(t._s(a.row.end_time))])]}}])}),s("el-table-column",{attrs:{label:"创建时间","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("span",[t._v(t._s(a.row.add_time))])]}}])}),s("el-table-column",{attrs:{label:"显示状态","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("el-switch",{staticClass:"defineSwitch",attrs:{"active-value":1,"inactive-value":0,value:a.row.is_show,size:"large","active-text":"开启","inactive-text":"关闭"},on:{change:function(s){return t.onchangeIsShow(a.row)}},model:{value:a.row.is_show,callback:function(s){t.$set(a.row,"is_show",s)},expression:"scope.row.is_show"}})]}}])}),s("el-table-column",{attrs:{label:"直播状态","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("div",[t._v(t._s(t._f("liveReviewStatusFilter")(a.row.live_status)))])]}}])}),s("el-table-column",{attrs:{label:"排序","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("div",[t._v(t._s(a.row.sort))])]}}])}),s("el-table-column",{attrs:{label:"操作",fixed:"right",width:"170"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("a",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(s){return t.detail(a.row,"详情")}}},[t._v("详情")]),s("el-divider",{attrs:{direction:"vertical"}}),s("a",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(s){return t.del(a.row,"删除这条信息",a.$index)}}},[t._v("删除")]),102==a.row.live_status?s("el-divider",{attrs:{direction:"vertical"}}):t._e(),102==a.row.live_status?s("a",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(s){return t.addGoods(a.row)}}},[t._v("添加商品")]):t._e()]}}])})],1),s("div",{staticClass:"acea-row row-right page"},[t.total?s("pagination",{attrs:{total:t.total,page:t.formValidate.page,limit:t.formValidate.limit},on:{"update:page":function(s){return t.$set(t.formValidate,"page",s)},"update:limit":function(s){return t.$set(t.formValidate,"limit",s)},pagination:t.getList}}):t._e()],1)],1),s("el-dialog",{staticClass:"paymentFooter",attrs:{visible:t.modals,title:"直播间详情",width:"720px"},on:{"update:visible":function(s){t.modals=s}}},[s("details-from",{ref:"studioDetail"})],1),s("el-dialog",{staticClass:"paymentFooter",attrs:{visible:t.isShowBox,title:"添加商品",width:"720px"},on:{"update:visible":function(s){t.isShowBox=s}}},[t.isShowBox?s("goods-list",{ref:"goodslist",attrs:{selectIds:t.selectIds,ischeckbox:!0,liveStatus:!0},on:{getProductId:t.getProductId}}):t._e()],1)],1)}),[],!1,null,"48bcfd57",null);s.default=d.exports},8666:function(t,s,a){a("5743")},b293:function(t,s,a){},e10a:function(t,s,a){}}]);