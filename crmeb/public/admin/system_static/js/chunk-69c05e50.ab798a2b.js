(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-69c05e50"],{"0922":function(e,t,i){i.r(t),i("b0c0"),i("4de4"),i("7db0"),i("d3b7");var o=i("f8b7"),a={name:"",data:function(){return{ruleValidate:{},formItem:{elec_invoice:0,auto_invoice:0,elec_invoice_cate:"",elec_invoice_tax_rate:null},optionsConfig:{label:"name",value:"id"},grid:{xl:8,lg:12,md:18,sm:16,xs:24},loading:!1,options:[]}},created:function(){this.getInvoiceConfig()},mounted:function(){},methods:{getInvoiceConfig:function(){var e=this;Object(o.v)().then((function(t){e.formItem=t.data,e.formItem.elec_invoice_cate=t.data.elec_invoice_cate||"";t=t.data;var i=t.elec_invoice_cate;i&&(e.options=[{id:i,name:t.elec_invoice_cate_name}])}))},selectChange:function(e){var t=this.options.find((function(t){return t.id===e}));this.formItem.elec_invoice_cate_name=t.name,this.formItem.elec_invoice_tax_rate=t.tax_rate_num},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;Object(o.Y)(t.formItem).then((function(){t.$message.success("保存成功")}))}))},remoteMethod:function(e){var t=this;""!==e?(this.loading=!0,Object(o.u)({name:e}).then((function(i){t.loading=!1,t.options=i.data.list.filter((function(t){return-1<t.name.toLowerCase().indexOf(e.toLowerCase())}))}))):this.options=[]}}};i("1f46"),i=i("2877"),i=Object(i.a)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("div",{staticClass:"i-layout-page-header header-title"},[t("span",{staticClass:"ivu-page-header-title"},[e._v(e._s(e.$route.meta.title))])]),t("el-card",{attrs:{bordered:!1,shadow:"never"}},[t("el-form",{ref:"formItem",attrs:{model:e.formItem,"label-width":"110px","label-position":"right",rules:e.ruleValidate},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:24}},[t("el-col",e._b({},"el-col",e.grid,!1),[t("el-form-item",{attrs:{label:"电子发票状态：",prop:"name","label-for":"name"}},[t("el-radio-group",{model:{value:e.formItem.elec_invoice,callback:function(t){e.$set(e.formItem,"elec_invoice",t)},expression:"formItem.elec_invoice"}},[t("el-radio",{attrs:{label:1}},[e._v("开启")]),t("el-radio",{attrs:{label:0}},[e._v("关闭")])],1),t("div",{staticClass:"tips-info"},[e._v("是否开启电子发票")])],1)],1)],1),1===e.formItem.elec_invoice?[t("el-col",{attrs:{span:24}},[t("el-col",e._b({},"el-col",e.grid,!1),[t("el-form-item",{attrs:{label:"是否自动开票：",prop:"name","label-for":"name"}},[t("div",[t("el-radio-group",{model:{value:e.formItem.auto_invoice,callback:function(t){e.$set(e.formItem,"auto_invoice",t)},expression:"formItem.auto_invoice"}},[t("el-radio",{attrs:{label:1}},[e._v("开启")]),t("el-radio",{attrs:{label:0}},[e._v("关闭")])],1),t("div",{staticClass:"tips-info"},[e._v("是否开启自动开票功能")])],1)])],1)],1),1===e.formItem.auto_invoice&&1===e.formItem.elec_invoice?[t("el-col",{attrs:{span:24}},[t("el-col",e._b({},"el-col",e.grid,!1),[t("el-form-item",{attrs:{label:"电子发票分类："}},[t("el-select",{staticClass:"input-width",attrs:{filterable:"",remote:"","reserve-keyword":"","remote-method":e.remoteMethod,loading:e.loading,placeholder:"请输入并选择电子发票的商品分类"},on:{change:e.selectChange},model:{value:e.formItem.elec_invoice_cate,callback:function(t){e.$set(e.formItem,"elec_invoice_cate",t)},expression:"formItem.elec_invoice_cate"}},e._l(e.options,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),t("div",{staticClass:"tips-info"},[e._v("电子发票需输入搜索并选择商品分类，如：电子产品、电子服务等")])],1)],1)],1),t("el-col",{attrs:{span:24}},[t("el-col",e._b({},"el-col",e.grid,!1),[t("el-form-item",{attrs:{label:"电子发票税率："}},[t("el-input",{staticClass:"input-width",attrs:{type:"number",placeholder:"请输入电子发票税率"},model:{value:e.formItem.elec_invoice_tax_rate,callback:function(t){e.$set(e.formItem,"elec_invoice_tax_rate",t)},expression:"formItem.elec_invoice_tax_rate"}}),t("div",{staticClass:"tips-info"},[e._v("\n                    默认填充税率可能存在误差，请确认无误后再保存电子发票的税率，填写0-100直接的整数，如：13%的税率请填写13\n                  ")])],1)],1)],1)]:e._e()]:e._e(),t("el-col",{attrs:{span:24}},[t("el-col",e._b({},"el-col",e.grid,!1),[t("el-form-item",[t("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],attrs:{type:"primary",long:""},on:{click:function(t){return e.handleSubmit("formItem")}}},[e._v("保存")])],1)],1)],1)],2)],1)],1)],1)}),[],!1,null,"1314d151",null);t.default=i.exports},"1f46":function(e,t,i){i("a3fc")},a3fc:function(e,t,i){}}]);