(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a624bb08"],{"33b8":function(t,e,r){r.r(e),r("b0c0");var n=r("c7eb"),a=r("1da1"),i=r("5530"),o=(r("14d9"),r("a434"),r("2f62")),u=(r("a9e3"),r("8593")),c={name:"menusFrom",props:{groupId:{type:Number,default:0},titleFrom:{type:String,default:""},addId:{type:String,default:""}},data:function(){return{iconVal:"",grid:{xl:7,lg:7,md:12,sm:24,xs:24},modals:!1,modal12:!1,ruleValidate:{name:[{required:!0,message:"请输入数据组名称",trigger:"blur"}],config_name:[{required:!0,message:"请输入数据字段",trigger:"blur"}],info:[{required:!0,message:"请输入数据简介",trigger:"blur"}],names:[{required:!0,message:"请输入字段名称",trigger:"blur"}]},FromData:[],valids:!1,list2:[],formValidate:{name:"",config_name:"",info:"",typelist:[],cate_id:0}}},watch:{addId:function(t){"addId"===t&&(this.formValidate.typelist=[])}},methods:{addType:function(){this.formValidate.typelist.push({name:{value:""},title:{value:""},type:{value:""},param:{placeholder:"参数方式例如:\n1=白色\n2=红色\n3=黑色",value:""}})},delGroup:function(t){this.formValidate.typelist.splice(t,1)},fromData:function(t){var e=this;Object(u.Q)(t).then(function(){var t=Object(a.a)(Object(n.a)().mark((function t(r){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.formValidate=r.data.info;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$message.error(t.msg)}))},handleSubmit:function(t){var e=this,r={url:this.groupId?"/setting/group/".concat(this.groupId):"setting/group",method:this.groupId?"put":"post",datas:this.formValidate};this.$refs[t].validate((function(i){return i?0===e.formValidate.typelist.length?e.$message.error("请添加字段名称：姓名！"):void Object(u.J)(r).then(function(){var r=Object(a.a)(Object(n.a)().mark((function r(a){return Object(n.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.$message.success(a.msg),e.modals=!1,e.$refs[t].resetFields(),e.formValidate.typelist=[],e.$emit("getList");case 5:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()).catch((function(t){e.$message.error(t.msg)})):e.formValidate.name?e.formValidate.config_name?e.formValidate.info?void 0:e.$message.error("请添加数据简介！"):e.$message.error("请添加数据字段！"):e.$message.error("请添加数据组名称！")}))},handleReset:function(){this.modals=!1,this.$refs.formValidate.resetFields(),this.$emit("clearFrom")}},created:function(){},mounted:function(){}};r("7e9f"),r=r("2877"),c={name:"group",components:{groupFrom:Object(r.a)(c,(function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{visible:t.modals,width:"720px",title:t.titleFrom,"close-on-click-modal":!1},on:{"update:visible":function(e){t.modals=e}}},[e("el-form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":"100px",rules:t.ruleValidate},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-row",{attrs:{gutter:24}},[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"数据组名称：",prop:"name"}},[e("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"请输入数据组名称"},model:{value:t.formValidate.name,callback:function(e){t.$set(t.formValidate,"name",e)},expression:"formValidate.name"}})],1)],1),e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"数据字段：",prop:"config_name"}},[e("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"请输入数据字段"},model:{value:t.formValidate.config_name,callback:function(e){t.$set(t.formValidate,"config_name",e)},expression:"formValidate.config_name"}})],1)],1),e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"数据简介：",prop:"info"}},[e("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"请输入数据简介"},model:{value:t.formValidate.info,callback:function(e){t.$set(t.formValidate,"info",e)},expression:"formValidate.info"}})],1)],1),e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"数据类型：",prop:"cate_id"}},[e("el-radio-group",{model:{value:t.formValidate.cate_id,callback:function(e){t.$set(t.formValidate,"cate_id",e)},expression:"formValidate.cate_id"}},[e("el-radio",{attrs:{label:0}},[t._v("默认")]),e("el-radio",{attrs:{label:1}},[t._v("数据")])],1)],1)],1),t._l(t.formValidate.typelist,(function(r,n){return e("el-col",{key:n,attrs:{span:24}},[e("el-col",t._b({},"el-col",t.grid,!1),[e("el-form-item",{attrs:{label:"字段"+(n+1)+"：","label-width":"90px",prop:"typelist."+n+".name.value",rules:{required:!0,message:"请输入字段名称：姓名",trigger:"blur"}}},[e("el-input",{attrs:{placeholder:"字段名称：姓名"},model:{value:r.name.value,callback:function(e){t.$set(r.name,"value",e)},expression:"item.name.value"}})],1)],1),e("el-col",t._b({staticClass:"goupBox"},"el-col",t.grid,!1),[e("el-form-item",{attrs:{"label-width":"0",prop:"typelist."+n+".title.value",rules:{required:!0,message:"请输入字段配置名",trigger:"blur"}}},[e("el-input",{attrs:{placeholder:"字段配置名：name"},model:{value:r.title.value,callback:function(e){t.$set(r.title,"value",e)},expression:"item.title.value"}})],1)],1),e("el-col",t._b({staticClass:"goupBox",attrs:{prop:"type"}},"el-col",t.grid,!1),[e("el-form-item",{attrs:{prop:"typelist."+n+".type.value",rules:{required:!0,message:"请选择字段类型",trigger:"change"},"label-width":"0"}},[e("el-select",{attrs:{placeholder:"字段类型"},model:{value:r.type.value,callback:function(e){t.$set(r.type,"value",e)},expression:"item.type.value"}},[e("el-option",{attrs:{value:"input"}},[t._v("文本框")]),e("el-option",{attrs:{value:"textarea"}},[t._v("多行文本框")]),e("el-option",{attrs:{value:"radio"}},[t._v("单选框")]),e("el-option",{attrs:{value:"checkbox"}},[t._v("多选框")]),e("el-option",{attrs:{value:"select"}},[t._v("下拉选择")]),e("el-option",{attrs:{value:"upload"}},[t._v("单图")]),e("el-option",{attrs:{value:"uploads"}},[t._v("多图")])],1)],1)],1),e("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],attrs:{icon:"el-icon-delete"},on:{click:function(e){return t.delGroup(n)}}}),"radio"===r.type.value||"checkbox"===r.type.value||"select"===r.type.value?e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{prop:"typelist."+n+".param.value",rules:{required:!0,message:"请输入参数方式",trigger:"blur"}}},[e("el-input",{staticStyle:{width:"90%"},attrs:{type:"textarea",rows:4,placeholder:r.param.placeholder},model:{value:r.param.value,callback:function(e){t.$set(r.param,"value",e)},expression:"item.param.value"}})],1)],1):t._e()],1)})),e("el-col",[e("el-form-item",[e("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],attrs:{type:"primary"},on:{click:t.addType}},[t._v("添加字段")])],1)],1)],2)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:t.handleReset}},[t._v("取 消")]),e("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],attrs:{type:"primary",disabled:t.valids},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v("确 定")])],1)],1)],1)}),[],!1,null,"6b6a3ac5",null).exports},data:function(){return{grid:{xl:7,lg:7,md:12,sm:24,xs:24},formValidate:{page:1,limit:20,title:""},loading:!1,tabList:[],total:0,FromData:null,titleFrom:"",groupId:0,addId:""}},computed:Object(i.a)(Object(i.a)({},Object(o.d)("media",["isMobile"])),{},{labelWidth:function(){return this.isMobile?void 0:"80px"},labelPosition:function(){return this.isMobile?"top":"right"}}),mounted:function(){this.getList()},methods:{goList:function(t){this.$router.push({path:this.$routeProStr+"/system/config/system_group/list/"+t.id})},getList:function(){var t=this;this.loading=!0,Object(u.R)(this.formValidate).then(function(){var e=Object(a.a)(Object(n.a)().mark((function e(r){var a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.data,t.tabList=a.list,t.total=a.count,t.loading=!1;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.loading=!1,t.$message.error(e.msg)}))},userSearchs:function(){this.formValidate.page=1,this.getList()},groupAdd:function(t){this.$refs.groupfroms.modals=!0,this.titleFrom=t,this.addId="addId",this.groupId=0},del:function(t,e,r){var n=this;e={title:e,num:r,url:"setting/group/".concat(t.id),method:"DELETE",ids:""};this.$modalSure(e).then((function(t){n.$message.success(t.msg),n.tabList.splice(r,1),n.getList()})).catch((function(t){n.$message.error(t.msg)}))},edit:function(t,e){this.titleFrom=e,this.groupId=t.id,this.$refs.groupfroms.fromData(t.id),this.$refs.groupfroms.modals=!0,this.addId=""}}},i=Object(r.a)(c,(function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticClass:"ivu-mb-16",attrs:{bordered:!1,shadow:"never","body-style":{padding:0}}},[e("div",{staticClass:"padding-add"},[e("el-form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":t.labelWidth,"label-position":t.labelPosition,inline:""},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-form-item",{attrs:{label:"数据搜索："}},[e("el-input",{staticClass:"form_content_width",attrs:{clearable:"",placeholder:"请输入ID,KEY,数据组名称,简介"},model:{value:t.formValidate.title,callback:function(e){t.$set(t.formValidate,"title",e)},expression:"formValidate.title"}})],1),e("el-form-item",[e("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],attrs:{type:"primary"},on:{click:t.userSearchs}},[t._v("查询")])],1)],1)],1)]),e("el-card",{staticClass:"ivu-mt",attrs:{bordered:!1,shadow:"never"}},[e("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"mr20",attrs:{type:"primary"},on:{click:function(e){return t.groupAdd("添加数据组")}}},[t._v("添加数据组")]),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticClass:"mt14",attrs:{data:t.tabList,"highlight-current-row":"","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"}},[e("el-table-column",{attrs:{label:"ID",width:"80"},scopedSlots:t._u([{key:"default",fn:function(r){return[e("span",[t._v(t._s(r.row.id))])]}}])}),e("el-table-column",{attrs:{label:"KEY","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(r){return[e("span",[t._v(t._s(r.row.config_name))])]}}])}),e("el-table-column",{attrs:{label:"数据组名称","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(r){return[e("span",[t._v(t._s(r.row.name))])]}}])}),e("el-table-column",{attrs:{label:"简介","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(r){return[e("span",[t._v(t._s(r.row.info))])]}}])}),e("el-table-column",{attrs:{label:"操作",fixed:"right",width:"170"},scopedSlots:t._u([{key:"default",fn:function(r){return[e("a",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(e){return t.goList(r.row)}}},[t._v("数据列表")]),e("el-divider",{attrs:{direction:"vertical"}}),e("a",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(e){return t.edit(r.row,"编辑")}}},[t._v("编辑")]),e("el-divider",{attrs:{direction:"vertical"}}),e("a",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(e){return t.del(r.row,"删除数据组",r.$index)}}},[t._v("删除")])]}}])})],1),e("div",{staticClass:"acea-row row-right page"},[t.total?e("pagination",{attrs:{total:t.total,page:t.formValidate.page,limit:t.formValidate.limit},on:{"update:page":function(e){return t.$set(t.formValidate,"page",e)},"update:limit":function(e){return t.$set(t.formValidate,"limit",e)},pagination:t.getList}}):t._e()],1)],1),e("group-from",{ref:"groupfroms",attrs:{titleFrom:t.titleFrom,groupId:t.groupId,addId:t.addId},on:{getList:t.getList}})],1)}),[],!1,null,"3bda8ac8",null);e.default=i.exports},3676:function(t,e,r){},"7e9f":function(t,e,r){r("3676")},8593:function(t,e,r){r.d(e,"i",(function(){return a})),r.d(e,"g",(function(){return i})),r.d(e,"h",(function(){return o})),r.d(e,"jb",(function(){return u})),r.d(e,"m",(function(){return c})),r.d(e,"k",(function(){return l})),r.d(e,"l",(function(){return s})),r.d(e,"j",(function(){return d})),r.d(e,"R",(function(){return m})),r.d(e,"J",(function(){return f})),r.d(e,"Q",(function(){return p})),r.d(e,"O",(function(){return b})),r.d(e,"L",(function(){return g})),r.d(e,"M",(function(){return h})),r.d(e,"N",(function(){return v})),r.d(e,"P",(function(){return O})),r.d(e,"fb",(function(){return _})),r.d(e,"lb",(function(){return y})),r.d(e,"y",(function(){return j})),r.d(e,"c",(function(){return k})),r.d(e,"e",(function(){return w})),r.d(e,"b",(function(){return V})),r.d(e,"d",(function(){return x})),r.d(e,"f",(function(){return $})),r.d(e,"C",(function(){return T})),r.d(e,"A",(function(){return S})),r.d(e,"B",(function(){return I})),r.d(e,"W",(function(){return F})),r.d(e,"V",(function(){return E})),r.d(e,"X",(function(){return L})),r.d(e,"eb",(function(){return G})),r.d(e,"p",(function(){return P})),r.d(e,"o",(function(){return N})),r.d(e,"ab",(function(){return C})),r.d(e,"r",(function(){return q})),r.d(e,"z",(function(){return D})),r.d(e,"bb",(function(){return J})),r.d(e,"a",(function(){return M})),r.d(e,"G",(function(){return R})),r.d(e,"ib",(function(){return U})),r.d(e,"K",(function(){return A})),r.d(e,"xb",(function(){return B})),r.d(e,"wb",(function(){return K})),r.d(e,"S",(function(){return W})),r.d(e,"U",(function(){return Y})),r.d(e,"H",(function(){return z})),r.d(e,"Y",(function(){return Q})),r.d(e,"Z",(function(){return H})),r.d(e,"D",(function(){return X})),r.d(e,"gb",(function(){return Z})),r.d(e,"E",(function(){return tt})),r.d(e,"hb",(function(){return et})),r.d(e,"q",(function(){return rt})),r.d(e,"I",(function(){return nt})),r.d(e,"F",(function(){return at})),r.d(e,"cb",(function(){return it})),r.d(e,"rb",(function(){return ot})),r.d(e,"tb",(function(){return ut})),r.d(e,"qb",(function(){return ct})),r.d(e,"ub",(function(){return lt})),r.d(e,"sb",(function(){return st})),r.d(e,"s",(function(){return dt})),r.d(e,"vb",(function(){return mt})),r.d(e,"mb",(function(){return ft})),r.d(e,"kb",(function(){return pt})),r.d(e,"nb",(function(){return bt})),r.d(e,"db",(function(){return gt})),r.d(e,"pb",(function(){return ht})),r.d(e,"T",(function(){return vt})),r.d(e,"ob",(function(){return Ot})),r.d(e,"t",(function(){return _t})),r.d(e,"w",(function(){return yt})),r.d(e,"u",(function(){return jt})),r.d(e,"v",(function(){return kt})),r.d(e,"x",(function(){return wt})),r.d(e,"n",(function(){return Vt})),r("99af");var n=r("6b6c");function a(t){return Object(n.a)({url:"setting/config_class",method:"get",params:t})}function i(t){return Object(n.a)({url:"setting/config_class/create",method:"get"})}function o(t){return Object(n.a)({url:"setting/config_class/".concat(t,"/edit"),method:"get"})}function u(t){return Object(n.a)({url:"setting/config_class/set_status/".concat(t.id,"/").concat(t.status),method:"PUT"})}function c(t){return Object(n.a)({url:"setting/config",method:"get",params:t})}function l(t){return Object(n.a)({url:"setting/config/create",method:"get",params:t})}function s(t){return Object(n.a)({url:"/setting/config/".concat(t,"/edit"),method:"get"})}function d(t,e){return Object(n.a)({url:"setting/config/set_status/".concat(t,"/").concat(e),method:"PUT"})}function m(t){return Object(n.a)({url:"setting/group",method:"get",params:t})}function f(t){return Object(n.a)({url:t.url,method:t.method,data:t.datas})}function p(t){return Object(n.a)({url:"setting/group/".concat(t),method:"get"})}function b(t,e){return Object(n.a)({url:e,method:"get",params:t})}function g(t,e){return Object(n.a)({url:e,method:"get",params:t})}function h(t,e){return Object(n.a)({url:e,method:"get",params:t})}function v(t,e){return Object(n.a)({url:e,method:"get",params:t})}function O(t){return Object(n.a)({url:t,method:"PUT"})}function _(t){return Object(n.a)({url:"system/log/search_admin",method:"GET"})}function y(t){return Object(n.a)({url:"system/log",method:"GET",params:t})}function j(){return Object(n.a)({url:"system/file",method:"GET"})}function k(){return Object(n.a)({url:"system/backup",method:"GET"})}function w(t){return Object(n.a)({url:"system/backup/read",method:"GET",params:t})}function V(t){return Object(n.a)({url:"system/backup/backup",method:"put",data:t})}function x(t){return Object(n.a)({url:"system/backup/optimize",method:"put",data:t})}function $(t){return Object(n.a)({url:"system/backup/repair",method:"put",data:t})}function T(t){return Object(n.a)({url:"system/backup/file_list",method:"GET"})}function S(t){return Object(n.a)({url:"backup/download",method:"get",params:t})}function I(t){return Object(n.a)({url:"system/backup/import",method:"POST",data:t})}function F(t){return Object(n.a)({url:"system/file/login",method:"POST",data:t})}function E(t){return Object(n.a)({url:"system/file/opendir",method:"GET",params:t,file_edit:!0})}function L(t){return Object(n.a)({url:"system/file/openfile",method:"GET",params:t,file_edit:!0})}function G(t){return Object(n.a)({url:"system/file/savefile?fileToken=".concat(t.fileToken),method:"post",data:t,file_edit:!0})}function P(t){return Object(n.a)({url:"system/file/createFolder",method:"GET",params:t,file_edit:!0})}function N(t){return Object(n.a)({url:"system/file/createFile",method:"GET",params:t,file_edit:!0})}function C(t){return Object(n.a)({url:"system/file/rename",method:"GET",params:t,file_edit:!0})}function q(t){return Object(n.a)({url:"system/file/delFolder",method:"GET",params:t,file_edit:!0})}function D(t){return Object(n.a)({url:"system/file/mark",method:"get",params:t,file_edit:!0})}function J(t){return Object(n.a)({url:"system/replace_site_url",method:"post",data:t})}function M(){return Object(n.a)({url:"auth",method:"get"})}function R(){return Object(n.a)({url:"setting/get_kf_adv",method:"get"})}function U(t){return Object(n.a)({url:"setting/set_kf_adv",method:"post",data:t})}function A(){return Object(n.a)({url:"setting/group_all",method:"get"})}function B(t){return Object(n.a)({url:"system/version_list",method:"get",params:t})}function K(t){return Object(n.a)({url:"system/version_crate/".concat(t),method:"get"})}function W(t){return Object(n.a)({url:"setting/group_data/save_all",method:"POST",data:t})}function Y(t){return Object(n.a)({url:"diy/open_adv/add",method:"POST",data:t})}function z(){return Object(n.a)({url:"diy/open_adv/info",method:"get"})}function Q(t){return Object(n.a)({url:"setting/config/get_system/".concat(t),method:"get"})}function H(t){return Object(n.a)({url:"setting/config/save_basics",method:"POST",data:t})}function X(){return Object(n.a)({url:"setting/get_user_agreement",method:"get"})}function Z(t){return Object(n.a)({url:"setting/set_user_agreement",method:"post",data:t})}function tt(t){return Object(n.a)({url:"setting/get_agreement/".concat(t),method:"get"})}function et(t,e){return Object(n.a)({url:"setting/save_agreement",method:"post",data:t})}function rt(t){return Object(n.a)({url:"crmeb_product",method:"get",params:t})}function nt(){return Object(n.a)({url:"setting/get_version",method:"get"})}function at(){return Object(n.a)({url:"copyright",method:"get"})}function it(t){return Object(n.a)({url:"copyright",method:"post",data:t})}function ot(t){return Object(n.a)({url:"/system/upgrade/list",method:"get",params:t})}function ut(){return Object(n.a)({url:"/system/upgrade_progress",method:"get"})}function ct(){return Object(n.a)({url:"/system/upgrade/agreement",method:"get"})}function lt(){return Object(n.a)({url:"/system/upgrade_status",method:"get"})}function st(t){return Object(n.a)({url:"/system/upgrade_log/list",method:"get",params:t})}function dt(t){return Object(n.a)({url:"/system/upgrade_download/"+t,method:"POST"})}function mt(t){return Object(n.a)({url:"/system/upgradeable/list",method:"get",params:t})}function ft(t){return Object(n.a)({url:"system/crontab/list",params:t})}function pt(t,e){return Object(n.a)({url:"system/crontab/set_open/".concat(t,"/").concat(e)})}function bt(t){return Object(n.a)({url:"system/crontab/info/".concat(t)})}function gt(t){return Object(n.a)({url:"system/crontab/save",method:"post",data:t})}function ht(t){return Object(n.a)({url:"system/database/update_mark",method:"post",data:t})}function vt(t,e){return Object(n.a)({url:"system/file/mark/save?fileToken=".concat(t),method:"post",data:e})}function Ot(){return Object(n.a)({url:"system/crontab/mark"})}function _t(t){return Object(n.a)({url:"system/event/list",params:t})}function yt(t,e){return Object(n.a)({url:"system/event/set_open/".concat(t,"/").concat(e)})}function jt(t){return Object(n.a)({url:"system/event/info/".concat(t)})}function kt(t){return Object(n.a)({url:"system/event/save",method:"post",data:t})}function wt(){return Object(n.a)({url:"system/event/mark"})}function Vt(){return Object(n.a)({url:"system/info"})}}}]);