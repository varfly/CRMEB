(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-annex-special-index"],{"194f":function(t,e,o){"use strict";var a=o("61c1"),i=o.n(a);i.a},"582a":function(t,e,o){"use strict";o.r(e);var a=o("b827"),i=o.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(n);e["default"]=i.a},"61c1":function(t,e,o){var a=o("88ca");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("967d").default;i("29f5e8de",a,!0,{sourceMap:!1,shadowMode:!1})},"88ca":function(t,e,o){var a=o("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.sort-scroll[data-v-8c606d9a]{background-color:#fff}.empty-box[data-v-8c606d9a]{text-align:center;padding-top:%?50?%}.empty-box .tips[data-v-8c606d9a]{color:#aaa;font-size:%?26?%}.empty-box uni-image[data-v-8c606d9a]{width:%?414?%;height:%?304?%}.sort-product[data-v-8c606d9a]{margin-top:%?20?%}.sort-product .sort-box[data-v-8c606d9a]{display:flex;width:100%;border-radius:%?16?%;padding:%?30?% 0}.sort-product .sort-box .sort-item[data-v-8c606d9a]{width:20%;display:flex;flex-direction:column;align-items:center;justify-content:center;flex-shrink:0}.sort-product .sort-box .sort-item uni-image[data-v-8c606d9a]{width:%?90?%;height:%?90?%;border-radius:50%}.sort-product .sort-box .sort-item .txt[data-v-8c606d9a]{color:#272727;font-size:%?24?%;margin-top:%?10?%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:%?140?%;text-align:center}.sort-product .sort-box .sort-item .pictrues[data-v-8c606d9a]{width:%?90?%;height:%?90?%;background:#f8f8f8;border-radius:50%;margin:0 auto}.sort-product .sort-box .sort-item .icon-gengduo1[data-v-8c606d9a]{color:#333}.sort-product .sort-box .sort-item.on .txt[data-v-8c606d9a]{color:#fc4141}.sort-product .sort-box .sort-item.on uni-image[data-v-8c606d9a]{border:1px solid #fc4141}.sort-product .product-list[data-v-8c606d9a]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-top:%?30?%;padding:0 %?20?%}.sort-product .product-list .product-item[data-v-8c606d9a]{position:relative;width:%?344?%;background:#fff;border-radius:%?10?%;margin-bottom:%?20?%;overflow:hidden}.sort-product .product-list .product-item .pictrue[data-v-8c606d9a]{position:relative}.sort-product .product-list .product-item uni-image[data-v-8c606d9a]{width:100%;height:%?344?%;border-radius:%?10?% %?10?% 0 0}.sort-product .product-list .product-item .info[data-v-8c606d9a]{padding:%?14?% %?16?%}.sort-product .product-list .product-item .info .title[data-v-8c606d9a]{font-size:%?28?%}.sort-product .product-list .product-item .info .price-box[data-v-8c606d9a]{font-size:%?34?%;font-weight:700;margin-top:8px;color:#fc4141}.sort-product .product-list .product-item .info .price-box uni-text[data-v-8c606d9a]{font-size:%?26?%}.page[data-v-8c606d9a]{padding-bottom:50px}.ysize[data-v-8c606d9a]{background-size:100%}.fullsize[data-v-8c606d9a]{background-size:100% 100%}.repeat[data-v-8c606d9a]{background-repeat:repeat}.noRepeat[data-v-8c606d9a]{background-repeat:no-repeat}',""]),t.exports=e},"9a09":function(t,e,o){"use strict";o.d(e,"b",(function(){return a})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.pageShow?o("v-uni-view",{staticClass:"page",class:2==t.bgTabVal?"fullsize noRepeat":1==t.bgTabVal?"repeat ysize":"noRepeat ysize",style:[t.pageStyle]},[o("v-uni-view",{style:t.colorStyle},[t.showHomeComb?o("homeComb",{attrs:{dataConfig:t.homeCombData,belongIndex:t.belongIndex,special:1,isScrolled:t.isScrolled},on:{bindSortId:function(e){arguments[0]=e=t.$handleEvent(e),t.bindSortId.apply(void 0,arguments)},storeTap:function(e){arguments[0]=e=t.$handleEvent(e),t.storeTap.apply(void 0,arguments)}}}):t._e(),t.isHeaderSerch?o("headerSerch",{attrs:{dataConfig:t.headerSerchCombData,belongIndex:t.belongIndex,special:1},on:{storeTap:function(e){arguments[0]=e=t.$handleEvent(e),t.storeTap.apply(void 0,arguments)}}}):t._e(),t.showCateNav?o("tabNav",{attrs:{dataConfig:t.cateNavData,special:1,isFixed:t.isFixed&&!t.cateNavData.stickyConfig.tabVal},on:{bindHeight:function(e){arguments[0]=e=t.$handleEvent(e),t.bindHeighta.apply(void 0,arguments)},bindSortId:function(e){arguments[0]=e=t.$handleEvent(e),t.bindSortId.apply(void 0,arguments)}}}):t._e(),o("v-uni-view",{staticClass:"index"},[t._l(t.styleConfig,(function(e,a){return["userInfor"==e.name?o("userInfor",{key:a+"_0",attrs:{dataConfig:e},on:{changeLogin:function(e){arguments[0]=e=t.$handleEvent(e),t.changeLogin.apply(void 0,arguments)}}}):t._e(),"newVip"==e.name?o("newVip",{key:a+"_1",attrs:{dataConfig:e}}):t._e(),"articleList"==e.name?o("articleList",{key:a+"_2",attrs:{dataConfig:e}}):t._e(),"bargain"==e.name?o("bargain",{key:a+"_3",attrs:{dataConfig:e},on:{changeBarg:function(e){arguments[0]=e=t.$handleEvent(e),t.changeBarg.apply(void 0,arguments)}}}):t._e(),"blankPage"==e.name?o("blankPage",{key:a+"_4",attrs:{dataConfig:e}}):t._e(),"combination"==e.name?o("combination",{key:a+"_5",attrs:{dataConfig:e}}):t._e(),"coupon"==e.name?o("coupon",{key:a+"_6",attrs:{dataConfig:e},on:{changeLogin:function(e){arguments[0]=e=t.$handleEvent(e),t.changeLogin.apply(void 0,arguments)}}}):t._e(),"customerService"==e.name?o("customerService",{key:a+"_7",attrs:{dataConfig:e}}):t._e(),"goodList"==e.name?o("goodList",{key:a+"_8",ref:"goodLists",refInFor:!0,attrs:{dataConfig:e}}):t._e(),"guide"==e.name?o("guide",{key:a+"_9",attrs:{dataConfig:e}}):t._e(),"menus"==e.name?o("menus",{key:a+"_10",attrs:{dataConfig:e}}):t._e(),"news"==e.name?o("news",{key:a+"_11",attrs:{dataConfig:e}}):t._e(),"pictureCube"==e.name?o("pictureCube",{key:a+"_12",attrs:{dataConfig:e}}):t._e(),"promotionList"==e.name?o("promotionList",{key:a+"_13",ref:"promotionLists",refInFor:!0,attrs:{dataConfig:e,productVideoStatus:t.product_video_status,positionTop:t.positionTop}}):t._e(),"richText"==e.name?o("richText",{key:a+"_14",attrs:{dataConfig:e}}):t._e(),"videos"==e.name?o("videos",{key:a+"_15",attrs:{dataConfig:e}}):t._e(),"seckill"==e.name?o("seckill",{key:a+"_16",attrs:{dataConfig:e}}):t._e(),"swiperBg"==e.name?o("swiperBg",{key:a+"_17",attrs:{dataConfig:e}}):t._e(),"swipers"==e.name?o("swipers",{key:a+"_18",attrs:{dataConfig:e}}):t._e(),"titles"==e.name?o("titles",{key:a+"_19",attrs:{dataConfig:e}}):t._e(),"ranking"==e.name?o("ranking",{key:a+"_20",attrs:{dataConfig:e}}):t._e(),"presale"==e.name?o("presale",{key:a+"_21",attrs:{dataConfig:e}}):t._e(),"pointsMall"==e.name?o("pointsMall",{key:a+"_22",attrs:{dataConfig:e}}):t._e(),"signIn"==e.name?o("signIn",{key:a+"_23",attrs:{dataConfig:e}}):t._e(),"hotspot"==e.name?o("hotspot",{key:a+"_24",attrs:{dataConfig:e}}):t._e(),"follow"==e.name?o("follow",{key:a+"_25",attrs:{dataConfig:e}}):t._e()]})),t.sortList.children&&t.sortList.children.length?o("v-uni-view",{staticClass:"sort-product px-20"},[o("waterfallsFlow",{ref:"waterfallsFlow",attrs:{wfList:t.goodList,goDetail:"goDetail"},on:{itemTap:function(e){arguments[0]=e=t.$handleEvent(e),t.goDetail.apply(void 0,arguments)}}}),o("Loading",{attrs:{loaded:t.loaded,loading:t.loading}}),0==t.goodList.length&&t.loaded?o("v-uni-view",{staticClass:"sort-scroll rd-16rpx"},[o("v-uni-view",{staticClass:"empty-box pb-24"},[o("v-uni-image",{attrs:{src:t.imgHost+"/statics/images/no-thing.png"}}),o("v-uni-view",{staticClass:"tips"},[t._v("暂无商品，去看点别的吧")])],1)],1):t._e()],1):t._e(),t.isFooter?o("v-uni-view",{style:[t.pdHeights]}):t._e(),o("pageFooter",{attrs:{isTabBar:!1,configData:t.tabBarData}})],2)],1)],1):t._e()},i=[]},"9a17":function(t,e,o){"use strict";o.r(e);var a=o("9a09"),i=o("582a");for(var n in i)["default"].indexOf(n)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(n);o("194f");var s=o("828b"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"8c606d9a",null,!1,a["a"],void 0);e["default"]=r.exports},b827:function(t,e,o){"use strict";o("6a54");var a=o("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("8f71"),o("bf0f"),o("2797"),o("4626"),o("dd2b"),o("c223"),o("23f4"),o("7d2f"),o("5c47"),o("9c4e"),o("ab80"),o("2c10"),o("af8f"),o("dc8a"),o("4100"),o("fd3c"),o("aa9c"),o("d4b5");var i=a(o("9b1b")),n=a(o("0cf0")),s=a(o("052e")),r=o("d369"),d=o("2e42"),c=a(o("9105d")),l=a(o("0c40")),u=a(o("4c1b")),g=a(o("516a")),f=a(o("f528")),p=a(o("8513")),h=a(o("1c91")),m=a(o("3928")),v=a(o("470e")),b=a(o("cb28")),y=a(o("7d14")),w=a(o("06998")),_=a(o("4661")),C=a(o("4a81")),S=a(o("bf8a")),x=a(o("dff0")),L=a(o("39a4")),k=a(o("5de0")),D=a(o("2315")),T=a(o("38f3")),I=a(o("59ac")),P=a(o("ff31")),H=a(o("b930")),$=a(o("5ad6")),E=a(o("cf28")),F=a(o("0985")),O=a(o("0b28")),B=a(o("287c")),N=a(o("841d")),j=a(o("a833")),A=a(o("ea79")),M=o("8f59"),z=o("c302"),V=o("7cf0"),R=o("d7f8"),U=o("9ad6"),G=a(o("61759")),J=a(o("70ab")),Q=(a(o("c13a")),getApp(),{computed:(0,i.default)({pageStyle:function(){return{backgroundColor:this.bgColor,backgroundImage:this.bgPic?"url(".concat(this.bgPic,")"):"",minHeight:this.windowHeight+"px"}},pdHeights:function(){var t="".concat(2*this.pdHeight+100,"rpx");return{height:this.isFooter?t:"100rpx"}}},(0,M.mapGetters)(["isLogin","uid"])),mixins:[n.default],components:{Loading:J.default,pageFooter:G.default,couponWindow:s.default,homeComb:l.default,newVip:u.default,userInfor:c.default,headerSerch:g.default,swipers:f.default,coupon:p.default,articleList:h.default,bargain:m.default,blankPage:v.default,combination:b.default,customerService:y.default,goodList:w.default,guide:_.default,liveBroadcast:C.default,menus:S.default,pictureCube:L.default,news:x.default,promotionList:k.default,richText:D.default,seckill:T.default,swiperBg:I.default,tabNav:P.default,titles:H.default,ranking:$.default,presale:E.default,pointsMall:F.default,videos:O.default,signIn:B.default,hotspot:N.default,follow:j.default,waterfallsFlow:A.default},data:function(){return{isFixed:!1,isHeaderSerch:!1,showHomeComb:!1,showCateNav:!1,homeCombData:{},headerSerchCombData:{},cateNavData:{},domOffsetTop:50,styleConfig:[],loading:!1,loadend:!1,loadTitle:"加载更多",page:1,limit:this.$config.LIMIT,numConfig:0,code:"",isCouponShow:!1,couponObj:{},couponObjs:{},shareInfo:{},footConfig:{},pageId:"",sortMpTop:0,bgColor:"",bgPic:"",bgTabVal:"",pageShow:!0,windowHeight:0,isShowAuth:!1,isScrolled:!1,sortList:"",sortAll:[],isSortType:0,hostProduct:[],hotScroll:!1,hotPage:1,hotLimit:10,curSort:0,loaded:!1,goodPage:1,goodList:[],sid:0,positionTop:0,imgHost:U.HTTP_REQUEST_URL,product_video_status:!1,isFooter:!1,pdHeight:0,entryData:{store_id:"",latitude:"",longitude:"",select_store_id:""},goodsIndex:[],promotionIndex:[],belongIndex:0,isBelongStore:!1,tabBarData:{}}},onLoad:function(t){var e=this,o=this;this.$nextTick((function(){uni.getSystemInfo({success:function(t){o.windowHeight=t.windowHeight}})}));t.state,t.scope;this.pageId=t.id,uni.setNavigationBarTitle({title:"专题栏"}),this.diyData(),this.setOpenShare(),(0,d.getShare)().then((function(t){e.shareInfo=t.data}))},onUnload:function(){uni.$off("activeFn")},watch:{isLogin:{deep:!0,handler:function(t,e){var o=(new Date).toLocaleDateString();if(t){try{var a=uni.getStorageSync("oldDate")||""}catch(i){}a!=o&&this.getCoupon()}}}},onShow:function(){uni.removeStorageSync("form_type_cart");var t=(new Date).toLocaleDateString();if(this.isLogin){try{var e=uni.getStorageSync("oldDate")||""}catch(a){}e!=t&&this.getCoupon();var o=uni.getStorageSync("oldUser")||0;o||this.getCouponOnce()}},mounted:function(){},methods:(0,i.default)((0,i.default)({},(0,M.mapMutations)(["SET_NEARBY"])),{},{locationTap:function(t){this.entryData.latitude=t.latitude,this.entryData.longitude=t.longitude,this.entryStore(1)},storeTap:function(t){this.entryData.select_store_id=t,this.entryData.store_id="",uni.removeStorageSync("rulesStoreId"),this.entryStore(1)},changeSort:function(t,e){this.curSort!=e&&(this.curSort=e,this.sid=t.id,this.goodList=[],this.goodPage=1,this.loaded=!1,this.getGoodsList())},bindSortId:function(t){this.styleConfig=[],1==t.type?this.getProductList(t.classPage):(this.sortList=[],this.getMicroPage(t.microPage,!0))},getMicroPage:function(t,e){var o=this,a=this;a.styleConfig=[],uni.showLoading({title:"加载中..."}),(0,r.getDiy)(t).then((function(t){uni.hideLoading();t.data;var e=a.objToArr(t.data.value);e=e.filter((function(t){return!t.isHide})),e.forEach((function(t,o){["headerSerch","homeComb"].includes(t.name)&&e.splice(o,1)})),o.styleConfig=e})).catch((function(t){return a.$util.Tips({title:t})}))},getProductList:function(t){var e=this;this.curSort=0,this.loaded=!1,this.sortAll.length>0?(this.sortAll.forEach((function(o,a){o.id==t&&(e.$set(e,"sortList",o),e.sid=o.children.length?o.children[0].id:"")})),this.goodList=[],this.goodPage=1,this.$nextTick((function(){""!=e.sortList&&e.getGoodsList()}))):(0,z.getCategoryList)().then((function(o){e.sortAll=o.data,o.data.forEach((function(o,a){o.id==t&&(e.sortList=o,e.sid=o.children.length?o.children[0].id:"")})),e.goodList=[],e.goodPage=1,e.$nextTick((function(){""!=e.sortList&&e.getGoodsList()}))}))},getGoodsList:function(){var t=this;this.loading||this.loaded||(this.loading=!0,(0,z.getProductslist)({sid:this.sid,keyword:"",priceOrder:"",salesOrder:"",news:0,page:this.goodPage,limit:10,cid:this.sortList.id}).then((function(e){t.loading=!1,t.loaded=e.data.length<10,t.goodPage++,t.goodList=t.goodList.concat(e.data)})))},get_host_product:function(){var t=this;t.hotScroll||(0,z.getProductHot)(t.hotPage,t.hotLimit).then((function(e){t.hotPage++,t.hotScroll=e.data.length<t.hotLimit,t.hostProduct=t.hostProduct.concat(e.data)}))},getCouponOnce:function(){var t=this;(0,r.getCouponNewUser)().then((function(e){t.couponObjs=e.data}))},couponCloses:function(){this.couponObjs.show=!1;try{uni.setStorageSync("oldUser",1)}catch(t){}},getCoupon:function(){var t=this;(0,r.getCouponV2)().then((function(e){t.couponObj=e.data,e.data.list.length>0&&(t.isCouponShow=!0)}))},couponClose:function(){this.isCouponShow=!1;try{uni.setStorageSync("oldDate",(new Date).toLocaleDateString())}catch(t){}},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),o=new RegExp("(^|/)"+t+"/([^/]*)(/|$)","i"),a=window.location.search.substr(1).match(e),i=window.location.pathname.substr(1).match(o);return null!=a?unescape(a[2]):null!=i?unescape(i[2]):null},objToArr:function(t){var e=Object.keys(t);e.sort((function(t,e){return t-e}));var o=e.map((function(e){return t[e]}));return o},setDiyData:function(t){var e=this;if(0==t.length)return this.$util.Tips({title:"暂无数据"},{tab:3});t.is_bg_color&&(this.bgColor=t.color_picker),t.is_bg_pic&&(this.bgPic=t.bg_pic,this.bgTabVal=t.bg_tab_val),this.pageShow=t.is_show,uni.setNavigationBarTitle({title:t.title});var o=[],a=[],i=[],n=this.objToArr(t.value);n.forEach((function(t,n,s){"homeComb"!==t.name||t.isHide||(e.showHomeComb=!0,e.homeCombData=t,t.searchConfig.tabVal&&(e.positionTop=43)),"headerSerch"!=t.name||t.isHide||(e.isHeaderSerch=!0,e.headerSerchCombData=t),"tabNav"!=t.name||t.isHide||(e.showCateNav=!0,e.cateNavData=t),"goodList"!=t.name||t.isHide||a.push(n),"promotionList"!=t.name||t.isHide||i.push(n),"pageFoot"==t.name&&(e.tabBarData=t,e.isFooter=!!t.effectConfig.tabVal,e.pdHeight=t.topConfig.val+t.bottomConfig.val),t.isHide||o.push(t)})),o.sort((function(t,e){return t.timestamp-e.timestamp})),this.styleConfig=o,this.goodsIndex=a,this.promotionIndex=i,this.entryStore()},getDiyData:function(){var t=this;(0,r.getDiy)(this.pageId).then((function(e){uni.setStorageSync("specialDiyData",JSON.stringify(e.data)),t.setDiyData(e.data)}))},diyData:function(){this.getDiyData()},entryStore:function(t){},changeBarg:function(t){this.isLogin?uni.navigateTo({url:"/pages/activity/goods_bargain_details/index?id=".concat(t.id,"&spid=").concat(this.uid)}):(0,R.toLogin)()},goDetail:function(t){(0,V.goShopDetail)(t,this.uid).then((function(e){uni.navigateTo({url:"/pages/goods_details/index?id=".concat(t.id)})}))},setOpenShare:function(){var t=this;t.$wechat.isWeixin()&&(0,d.getShare)().then((function(e){var o=e.data.data,a={desc:o.synopsis,title:o.title,link:location.href,imgUrl:o.img};t.$wechat.wechatEvevt(["updateAppMessageShareData","updateTimelineShareData"],a)}))}}),onReachBottom:function(){},onPageScroll:function(t){var e=this;this.isHeaderSerch?(t.scrollTop>this.domOffsetTop&&(this.isFixed=!0),t.scrollTop<this.domOffsetTop&&this.$nextTick((function(){e.isFixed=!1}))):this.isFixed=!1,t.scrollTop>10?this.isScrolled=!0:this.isScrolled=!1,uni.$emit("scroll"),uni.$emit("onPageScroll",t.scrollTop)}});e.default=Q}}]);