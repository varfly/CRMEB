(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-users-payment_on_behalf-index"],{"16da":function(a,e,t){"use strict";t.r(e);var i=t("a26e"),r=t.n(i);for(var n in i)["default"].indexOf(n)<0&&function(a){t.d(e,a,(function(){return i[a]}))}(n);e["default"]=r.a},2249:function(a,e,t){"use strict";var i=t("2752"),r=t.n(i);r.a},2752:function(a,e,t){var i=t("59f3");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var r=t("967d").default;r("325265e6",i,!0,{sourceMap:!1,shadowMode:!1})},3767:function(a,e,t){a.exports=t.p+"pages/users/static/share-info2.png"},"59f3":function(a,e,t){var i=t("c86c");e=i(!1),e.push([a.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.main[data-v-284d59e6]{background-color:#f5f5f5}.main .head[data-v-284d59e6]{background-color:var(--view-theme);display:flex;flex-direction:column;align-items:center;justify-content:center;padding:%?60?% 0 %?62?% 0}.main .head .user-img uni-image[data-v-284d59e6]{width:%?68?%;height:%?68?%;border-radius:50%}.main .head .order-status[data-v-284d59e6]{margin-top:%?20?%;font-size:%?28?%;color:#fff}.main .head-other[data-v-284d59e6]{background-color:var(--view-theme);display:flex;align-items:center;padding:%?60?% 0 %?60?% %?30?%}.main .head-other .user-img[data-v-284d59e6]{display:flex;align-items:center}.main .head-other .user-img uni-image[data-v-284d59e6]{width:%?100?%;height:%?100?%;border-radius:50%}.main .head-other .order-status[data-v-284d59e6]{margin-left:%?20?%;color:#fff;display:flex;flex-direction:column;justify-content:space-between;height:%?100?%;position:relative}.main .head-other .order-status .head-other-nickname[data-v-284d59e6]{font-size:%?28?%}.main .head-other .order-status .head-other-trip[data-v-284d59e6]{padding:%?6?% %?13?%;font-size:%?26?%;background-color:hsla(0,0%,100%,.2);border-radius:%?6?%}.main .head-other .order-status .head-other-trip[data-v-284d59e6]::after{content:"";width:%?0?%;height:%?0?%;border:%?10?% solid hsla(0,0%,100%,.2);border-bottom:%?10?% solid transparent;border-left:%?10?% solid transparent;border-top:%?10?% solid transparent;position:absolute;left:%?-20?%;bottom:%?15?%}.main .order-msg[data-v-284d59e6]{background-color:#fff;border-radius:%?14?% %?14?% 0 0;display:flex;flex-direction:column;align-items:center;padding:%?40?% 0;margin:%?-30?% %?30?% 0 %?30?%}.main .order-msg .pay--box[data-v-284d59e6]{text-align:center}.main .order-msg .pay-success[data-v-284d59e6]{font-size:%?30?%;color:#333;font-weight:700}.main .order-msg .order-num[data-v-284d59e6]{font-size:%?66?%;color:#333;font-weight:700}.main .order-msg .order-num .icon[data-v-284d59e6]{font-size:%?30?%}.main .order-msg .order-btn[data-v-284d59e6]{width:90%;background-color:var(--view-theme);border-radius:%?80?%;padding:%?26?% 0;color:#fff;font-size:%?30?%;text-align:center;margin-top:%?60?%}.main .order-msg .order-btn.detail[data-v-284d59e6]{margin-top:%?20?%;color:var(--view-theme);background-color:#fff;border:1px solid var(--view-theme)}.main .order-msg .order-btn.on-pay[data-v-284d59e6]{background-color:#ccc}.main .order-msg .order-trip[data-v-284d59e6]{color:#999;font-size:%?26?%;margin-top:%?32?%}.main .order-list[data-v-284d59e6]{margin:%?30?%;border-radius:%?14?%;overflow:hidden}.main .order-list .orderGoods[data-v-284d59e6]{margin-top:0}.main .order-list[data-v-284d59e6] .text .name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.main .share-box[data-v-284d59e6]{z-index:1000;position:fixed;left:0;top:0;width:100%;height:100%}.main .share-box uni-image[data-v-284d59e6]{width:100%;height:100%}',""]),a.exports=e},8227:function(a,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return r})),t.d(e,"a",(function(){}));var i=function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("v-uni-view",{staticClass:"main",style:a.colorStyle},[a.resData.type||a.resData.paid?i("v-uni-view",{staticClass:"head-other"},[i("v-uni-view",{staticClass:"user-img"},[i("v-uni-image",{attrs:{src:a.resData.paid&&!a.resData.type&&a.resData.pay_uid===a.$store.state.app.uid?a.resData.pay_avatar:a.resData.avatar,mode:""}})],1),i("v-uni-view",{staticClass:"order-status"},[i("v-uni-view",{staticClass:"head-other-nickname"},[a._v(a._s(a.resData.paid&&!a.resData.type&&a.resData.pay_uid===a.$store.state.app.uid?a.resData.pay_nickname:a.resData.nickname))]),!a.resData.paid&&a.resData.type?i("v-uni-view",{staticClass:"head-other-trip"},[a._v(a._s(a.$t("帮我付一下这件商品了，谢谢~")))]):a._e(),a.resData.pay_uid!==a.$store.state.app.uid&&a.resData.paid&&a.resData.type?i("v-uni-view",{staticClass:"head-other-trip"},[a._v(a._s(a.$t("已经有人替我代付，谢谢啦~")))]):a._e(),a.resData.pay_uid===a.$store.state.app.uid&&a.resData.paid&&a.resData.type?i("v-uni-view",{staticClass:"head-other-trip"},[a._v(a._s(a.$t("谢谢你帮我支付，么么哒~")))]):a._e(),a.resData.pay_uid!==a.resData.uid&&a.resData.paid&&!a.resData.type?i("v-uni-view",{staticClass:"head-other-trip"},[a._v(a._s(a.$t("我已为你代付成功，商家正在努力发货中~")))]):a._e()],1)],1):i("v-uni-view",{staticClass:"head"},[i("v-uni-view",{staticClass:"user-img"},[i("v-uni-image",{attrs:{src:a.resData.avatar,mode:""}})],1),a.resData.paid||a.resData.type?a._e():i("v-uni-view",{staticClass:"order-status"},[a._v(a._s(a.$t("代付订单创建成功，发给好友帮你付款吧~")))])],1),i("v-uni-view",{staticClass:"order-msg"},[a.resData.paid&&!a.resData.type?i("v-uni-view",{staticClass:"pay-success"},[a._v(a._s(a.$t("好友代付成功，商家正在努力发货中~")))]):i("v-uni-view",{staticClass:"pay--box"},[i("v-uni-view",{staticClass:"order-top"},[a._v(a._s(a.$t("代付金额")))]),i("v-uni-view",{staticClass:"order-num"},[i("v-uni-text",{staticClass:"icon"},[a._v(a._s(a.$t("￥")))]),a._v(a._s(a.resData.pay_price||0))],1)],1),a.resData.paid||a.resData.type?a._e():i("v-uni-view",{staticClass:"order-btn",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.shareFriend.apply(void 0,arguments)}}},[a._v(a._s(a.$t("发送给微信好友")))]),a.resData.paid||a.resData.type?a._e():i("v-uni-button",{staticClass:"order-btn detail",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.goOrderDetail()}}},[a._v(a._s(a.$t("查看订单详情")))]),!a.resData.paid&&a.resData.type?i("v-uni-button",{staticClass:"order-btn",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.payOpen()}}},[a._v(a._s(a.$t("立即付款")))]):a._e(),a.resData.paid&&a.resData.type?i("v-uni-button",{staticClass:"order-btn on-pay"},[a._v(a._s(a.$t("订单已支付")))]):a._e(),a.resData.paid&&!a.resData.type?i("v-uni-button",{staticClass:"order-btn",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.goOrderDetail()}}},[a._v(a._s(a.$t("查看订单详情")))]):a._e(),a.resData.pay_uid===a.$store.state.app.uid&&a.resData.type?i("v-uni-view",{staticClass:"order-trip"},[a._v(a._s(a.$t("如果订单申请退款，已支付金额将原路退还给您")))]):a._e()],1),i("v-uni-view",{staticClass:"order-list"},[i("orderGoods",{attrs:{cartInfo:a.resData.cartInfo,is_confirm:!0,pay_price:a.resData.pay_price,is_behalf:!(!a.resData.paid||a.resData.type)}})],1),a.shareModal?i("v-uni-view",{staticClass:"share-box"},[i("v-uni-image",{attrs:{src:t("3767")},on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.shareModal=!1}}})],1):a._e(),i("payment",{attrs:{payMode:a.payMode,pay_close:a.pay_close,friendPay:!0,order_id:a.order_id,totalPrice:a.resData.pay_price},on:{onChangeFun:function(e){arguments[0]=e=a.$handleEvent(e),a.onChangeFun.apply(void 0,arguments)}}}),i("home")],1)},r=[]},a26e:function(a,e,t){"use strict";t("6a54");var i=t("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(t("a51a")),n=i(t("0cf0")),s=i(t("4e69")),o=i(t("05b1")),d=t("a05e"),c=(t("9ad6"),t("d7f8")),u=t("8f59"),l={mixins:[n.default],components:{orderGoods:r.default,payment:s.default,home:o.default},computed:(0,u.mapGetters)(["isLogin"]),data:function(){return{shareModal:!1,cartInfo:[],resData:{},payMode:[{name:this.$t("微信支付"),icon:"icon-weixinzhifu",value:"weixin",title:this.$t("使用微信快捷支付"),payStatus:!0}],pay_close:!1,oid:"",order_id:""}},watch:{isLogin:{handler:function(a,e){1==a&&this.getDetail()},deep:!0}},onReady:function(){},onLoad:function(a){this.oid=a.oid},onShow:function(){this.isLogin?this.getDetail():(0,c.toLogin)()},methods:{payOpen:function(){this.pay_close=!0},getDetail:function(){var a=this,e=this;(0,d.friendDetail)(this.oid).then((function(e){a.resData=e.data.info,a.order_id=e.data.info.order_id,a.resData.paid&&!a.resData.type&&a.goOrderDetail(),a.ShareInfo(a.resData)})).catch((function(a){e.$util.Tips({title:a},{tab:4,url:"/pages/index/index"})}))},ShareInfo:function(a){var e=location.href;if(this.$wechat.isWeixin()){var t={desc:this.$t("帮我付一下这件商品了，谢谢~"),title:this.$t("好友代付"),link:e,imgUrl:a.avatar};this.$wechat.wechatEvevt(["updateAppMessageShareData","updateTimelineShareData","onMenuShareAppMessage","onMenuShareTimeline"],t).then((function(a){})).catch((function(a){}))}},shareFriend:function(){this.shareModal=!0},onChangeFun:function(a){var e=a,t=e.action||null,i=void 0!=e.value?e.value:null;t&&this[t]&&this[t](i)},payClose:function(){this.pay_close=!1},pay_fail:function(){this.pay_close=!1},pay_complete:function(){this.pay_close=!1,this.getDetail(),uni.navigateTo({url:"/pages/users/payment_on_behalf/pay_status?order_id="+this.oid})},goOrderDetail:function(){uni.navigateTo({url:"/pages/goods/order_details/index?order_id="+this.order_id})}}};e.default=l},afed:function(a,e,t){"use strict";t.r(e);var i=t("8227"),r=t("16da");for(var n in r)["default"].indexOf(n)<0&&function(a){t.d(e,a,(function(){return r[a]}))}(n);t("2249");var s=t("828b"),o=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"284d59e6",null,!1,i["a"],void 0);e["default"]=o.exports}}]);