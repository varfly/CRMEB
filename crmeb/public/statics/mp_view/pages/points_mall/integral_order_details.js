require('./common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/points_mall/integral_order_details"],{3778:function(t,e,n){"use strict";n.r(e);var i=n("71f1"),o=n("faec");for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(s);n("9133");var r=n("828b"),a=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"4aac0955",null,!1,i["a"],void 0);e["default"]=a.exports},39934:function(t,e,n){"use strict";(function(t,e){var i=n("47a9");n("2ea2");i(n("3240"));var o=i(n("3778"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},"3b42":function(t,e,n){"use strict";(function(t){var i=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("d1dc"),s=n("0729"),r=n("a05e"),a=(i(n("9c8e")),n("d7f8")),c=n("8f59"),u=i(n("0cf0")),d={components:{home:function(){Promise.all([n.e("common/vendor"),n.e("components/home/index")]).then(function(){return resolve(n("05b1"))}.bind(null,n)).catch(n.oe)},orderGoods:function(){n.e("components/orderGoods/index").then(function(){return resolve(n("a51a"))}.bind(null,n)).catch(n.oe)},authorize:function(){n.e("components/Authorize").then(function(){return resolve(n("636c"))}.bind(null,n)).catch(n.oe)}},mixins:[u.default],data:function(){return{order_id:"",evaluate:0,cartInfo:[],orderInfo:{system_store:{},_status:{}},system_store:{},isGoodsReturn:!1,status:{},isClose:!1,payMode:[{name:this.$t("微信支付"),icon:"icon-weixinzhifu",value:"weixin",title:this.$t("使用微信快捷支付"),payStatus:!0},{name:this.$t("余额支付"),icon:"icon-yuezhifu",value:"yue",title:this.$t("当前可用余额："),number:0,payStatus:!0}],pay_close:!1,pay_order_id:"",totalPrice:"0",isAuto:!1,isShowAuth:!1,routineContact:"0"}},computed:(0,c.mapGetters)(["isLogin"]),onLoad:function(t){t.order_id&&this.$set(this,"order_id",t.order_id)},onShow:function(){this.isLogin?this.getOrderInfo():(0,a.toLogin)()},onHide:function(){this.isClose=!0},onReady:function(){},methods:{jumpCon:function(e){t.navigateTo({url:"/pages/points_mall/integral_goods_details?id=".concat(e)})},goGoodCall:function(){t.navigateTo({url:"/pages/extension/customer_list/chat?orderId=".concat(this.order_id)})},openSubcribe:function(e){var n=e;t.showLoading({title:this.$t("正在加载")}),(0,s.openOrderRefundSubscribe)().then((function(e){t.hideLoading(),t.navigateTo({url:n})})).catch((function(){t.hideLoading()}))},onChangeFun:function(t){var e=t,n=e.action||null,i=void 0!=e.value?e.value:null;n&&this[n]&&this[n](i)},makePhone:function(){t.makePhoneCall({phoneNumber:this.system_store.phone})},showMaoLocation:function(){if(!this.system_store.latitude||!this.system_store.longitude)return this.$util.Tips({title:this.$t("缺少经纬度信息无法查看地图！")});t.openLocation({latitude:parseFloat(this.system_store.latitude),longitude:parseFloat(this.system_store.longitude),scale:8,name:this.system_store.name,address:this.system_store.address+this.system_store.detailed_address,success:function(){}})},payClose:function(){this.pay_close=!1},pay_open:function(){this.pay_close=!0,this.pay_order_id=this.orderInfo.order_id,this.totalPrice=this.orderInfo.pay_price},pay_complete:function(){this.pay_close=!1,this.pay_order_id="",this.getOrderInfo()},pay_fail:function(){this.pay_close=!1,this.pay_order_id=""},onLoadFun:function(){this.getOrderInfo(),this.getUserInfo()},getUserInfo:function(){var t=this;(0,r.getUserInfo)().then((function(e){t.payMode[1].number=e.data.now_money,t.$set(t,"payMode",t.payMode)}))},getOrderInfo:function(){var e=this;t.showLoading({title:this.$t("正在加载中")}),(0,o.integralOrderDetails)(this.order_id).then((function(n){t.hideLoading(),e.$set(e,"cartInfo",n.data)})).catch((function(n){t.hideLoading(),e.$util.Tips({title:n},"/pages/points_mall/exchange_record")}))},copy:function(){t.setClipboardData({data:this.cartInfo.order_id})},goTel:function(){t.makePhoneCall({phoneNumber:this.orderInfo.delivery_id})},getOrderStatus:function(){var t=this.orderInfo||{},e=t._status||{_type:0},n={},i=parseInt(e._type),o=t.delivery_type,s=t.seckill_id?parseInt(t.seckill_id):0,r=t.bargain_id?parseInt(t.bargain_id):0,a=t.combination_id?parseInt(t.combination_id):0;n={type:9==i?-9:i,class_status:0},1==i&&a>0&&(n.class_status=1),2==i&&"express"==o&&(n.class_status=2),2==i&&(n.class_status=3),4!=i&&0!=i||(n.class_status=4),s||r||a||3!=i&&4!=i||(n.class_status=5),this.$set(this,"status",n)},goJoinPink:function(){t.navigateTo({url:"/pages/activity/goods_combination_status/index?id="+this.orderInfo.pink_id})},confirmOrder:function(){var e=this;t.showModal({title:this.$t("确认收货"),content:this.$t("为保障权益，请收到货确认无误后，再确认收货"),success:function(t){t.confirm&&(0,o.orderTake)({order_id:e.order_id}).then((function(t){return e.$util.Tips({title:e.$t("操作成功"),icon:"success"},(function(){e.getOrderInfo()}))})).catch((function(t){return e.$util.Tips({title:t})}))}})},delOrder:function(){var t=this;(0,o.orderDel)({order_id:t.order_id}).then((function(e){return t.$util.Tips({title:t.$t("删除成功"),icon:"success"},{tab:5,url:"/pages/points_mall/exchange_record"})})).catch((function(e){return t.$util.Tips({title:e})}))}}};e.default=d}).call(this,n("df3c")["default"])},"4e94":function(t,e,n){},"71f1":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.$t("共")),i=t.$t("件商品"),o=t.$t("积分"),s=t.$t("订单编号"),r=t.$t("复制"),a=t.$t("订单状态"),c=t.$t(t.cartInfo.status_name),u=t.$t("下单时间"),d=t.$t("支付积分"),l=t.cartInfo.mark?t.$t("订单备注"):null,f=t.cartInfo.remark?t.$t("商家备注"):null,h="express"===t.cartInfo.delivery_type?t.$t("快递单号"):null,_="express"===t.cartInfo.delivery_type?t.$t("快递公司"):null,p="send"===t.cartInfo.delivery_type?t.$t("送货人电话"):null,m="send"===t.cartInfo.delivery_type?t.$t("配送人姓名"):null,y="fictitious"===t.cartInfo.delivery_type?t.$t("虚拟发货"):null,v="fictitious"===t.cartInfo.delivery_type?t.$t("已发货，请注意查收"):null,g=t.cartInfo.fictitious_content?t.$t("虚拟备注"):null,$="send"===t.cartInfo.delivery_type?t.$t("配送核销码"):null,I=3==t.cartInfo.status?t.$t("删除订单"):null,b=t.cartInfo.delivery_id&&"express"===t.cartInfo.delivery_type?t.$t("查看物流"):null,x=2==t.cartInfo.status?t.$t("确认收货"):null;t.$mp.data=Object.assign({},{$root:{m0:n,m1:i,m2:o,m3:s,m4:r,m5:a,m6:c,m7:u,m8:d,m9:l,m10:f,m11:h,m12:_,m13:p,m14:m,m15:y,m16:v,m17:g,m18:$,m19:I,m20:b,m21:x}})},o=[]},9133:function(t,e,n){"use strict";var i=n("4e94"),o=n.n(i);o.a},faec:function(t,e,n){"use strict";n.r(e);var i=n("3b42"),o=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=o.a}},[["39934","common/runtime","common/vendor"]]]);