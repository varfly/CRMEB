require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/order_pay_status/index"],{"0e70":function(t,o,i){"use strict";var e=i("12e4"),n=i.n(e);n.a},"12e4":function(t,o,i){},3461:function(t,o,i){"use strict";(function(t,o){var e=i("47a9");i("2ea2");e(i("3240"));var n=e(i("6bd0"));t.__webpack_require_UNI_MP_PLUGIN__=i,o(n.default)}).call(this,i("3223")["default"],i("df3c")["createPage"])},"5c85":function(t,o,i){"use strict";i.d(o,"b",(function(){return e})),i.d(o,"c",(function(){return n})),i.d(o,"a",(function(){}));var e=function(){var t=this,o=t.$createElement,i=(t._self._c,(!t.orderLottery||!t.order_pay_info.paid||t.is_gift)&&t.loading&&t.lotteryLoading&&"offline"!=t.order_pay_info.pay_type&&t.order_pay_info.paid?t.$t("订单支付成功"):null),e=t.orderLottery&&t.order_pay_info.paid&&!t.is_gift||!t.loading||!t.lotteryLoading||"offline"==t.order_pay_info.pay_type||t.order_pay_info.paid?null:t.$t(t.payType?"订单支付中":"订单支付失败"),n=t.orderLottery&&t.order_pay_info.paid&&!t.is_gift||!t.loading||!t.lotteryLoading||"offline"!=t.order_pay_info.pay_type?null:t.$t("订单创建成功"),r=t.orderLottery&&t.order_pay_info.paid&&!t.is_gift||!t.loading||!t.lotteryLoading?null:t.$t("订单号"),a=t.orderLottery&&t.order_pay_info.paid&&!t.is_gift||!t.loading||!t.lotteryLoading?null:t.$t("下单时间"),d=t.orderLottery&&t.order_pay_info.paid&&!t.is_gift||!t.loading||!t.lotteryLoading?null:t.$t("支付方式"),s=t.orderLottery&&t.order_pay_info.paid&&!t.is_gift||!t.loading||!t.lotteryLoading?null:t.$t(t.order_pay_info._status._payType)||t.$t("暂未支付"),l=t.orderLottery&&t.order_pay_info.paid&&!t.is_gift||!t.loading||!t.lotteryLoading?null:t.$t("支付金额"),f=t.orderLottery&&t.order_pay_info.paid&&!t.is_gift||!t.loading||!t.lotteryLoading||0!=t.order_pay_info.paid||"offline"==t.order_pay_info.pay_type?null:t.$t("失败原因"),u=t.orderLottery&&t.order_pay_info.paid&&!t.is_gift||!t.loading||!t.lotteryLoading||0!=t.order_pay_info.paid||"offline"==t.order_pay_info.pay_type?null:t.$t("未支付"),p=t.orderLottery&&t.order_pay_info.paid&&!t.is_gift||!t.loading||!t.lotteryLoading||0==t.order_pay_info.paid||0===t.is_gift?null:t.$t("送给好友"),_=t.orderLottery&&t.order_pay_info.paid&&!t.is_gift||!t.loading||!t.lotteryLoading||0!=t.status?null:t.$t("查看订单"),g=t.orderLottery&&t.order_pay_info.paid&&!t.is_gift||!t.loading||!t.lotteryLoading||0!=t.order_pay_info.paid||1!=t.status?null:t.$t("重新购买"),y=t.orderLottery&&t.order_pay_info.paid&&!t.is_gift||!t.loading||!t.lotteryLoading||0!=t.order_pay_info.paid||2!=t.status?null:t.$t("重新支付"),c=(!t.orderLottery||!t.order_pay_info.paid||t.is_gift)&&t.loading&&t.lotteryLoading&&t.order_pay_info.pink_id&&0!=t.order_pay_info.paid&&2!=t.status&&1!=t.status?t.$t("邀请好友参团"):null,h=t.orderLottery&&t.order_pay_info.paid&&!t.is_gift||!t.loading||!t.lotteryLoading||t.order_pay_info.pink_id&&0!=t.order_pay_info.paid&&2!=t.status&&1!=t.status?null:t.$t("返回首页"),L=t.orderLottery&&t.order_pay_info.paid&&!t.is_gift||!t.loading||!t.lotteryLoading?null:t.couponList.length,m=(!t.orderLottery||!t.order_pay_info.paid||t.is_gift)&&t.loading&&t.lotteryLoading&&L?t.$t("赠送优惠券"):null,$=(!t.orderLottery||!t.order_pay_info.paid||t.is_gift)&&t.loading&&t.lotteryLoading&&L?t.__map(t.couponList,(function(o,i){var e=t.__get_orig(o),n=i<2||!t.couponsHidden?t.$t("￥"):null,r=i<2||!t.couponsHidden?t.$t("满"):null,a=i<2||!t.couponsHidden?t.$t("元可用"):null,d=i<2||!t.couponsHidden?t.$t("有效期"):null;return{$orig:e,m17:n,m18:r,m19:a,m20:d}})):null,v=(!t.orderLottery||!t.order_pay_info.paid||t.is_gift)&&t.loading&&t.lotteryLoading&&L?t.couponList.length:null,b=(!t.orderLottery||!t.order_pay_info.paid||t.is_gift)&&t.loading&&t.lotteryLoading&&L&&v>2&&t.couponsHidden?t.$t("更多"):null,I=(!t.orderLottery||!t.order_pay_info.paid||t.is_gift)&&t.loading&&t.lotteryLoading&&L&&v>2&&!t.couponsHidden?t.$t("关闭"):null;t._isMounted||(t.e0=function(o){t.giftModalShow=!0},t.e1=function(o){t.giftModalShow=!1},t.e2=function(o){t.H5ShareBox=!1}),t.$mp.data=Object.assign({},{$root:{m0:i,m1:e,m2:n,m3:r,m4:a,m5:d,m6:s,m7:l,m8:f,m9:u,m10:p,m11:_,m12:g,m13:y,m14:c,m15:h,g0:L,m16:m,l0:$,g1:v,m21:b,m22:I}})},n=[]},"6bd0":function(t,o,i){"use strict";i.r(o);var e=i("5c85"),n=i("da4b");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(o,t,(function(){return n[t]}))}(r);i("0e70");var a=i("828b"),d=Object(a["a"])(n["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);o["default"]=d.exports},9001:function(t,o,i){"use strict";(function(t){var e=i("47a9");Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=i("a05e"),r=i("1a5b"),a=i("0729"),d=i("d7f8"),s=i("8f59"),l=e(i("0cf0")),f=i("9ad6"),u={components:{lotteryModel:function(){Promise.all([i.e("pages/goods/common/vendor"),i.e("pages/goods/order_pay_status/payLottery")]).then(function(){return resolve(i("7287"))}.bind(null,i)).catch(i.oe)},giftModal:function(){i.e("pages/goods/order_pay_status/components/giftModal").then(function(){return resolve(i("238b"))}.bind(null,i)).catch(i.oe)},authorize:function(){i.e("components/Authorize").then(function(){return resolve(i("636c"))}.bind(null,i)).catch(i.oe)}},mixins:[l.default],data:function(){return{imgHost:f.HTTP_REQUEST_URL,loading:!1,lotteryLoading:!1,orderLottery:!1,orderId:"",order_pay_info:{paid:1,_status:{}},isAuto:!1,isShowAuth:!1,status:0,msg:"",couponsHidden:!0,couponList:[],options:null,payType:"",giftData:{},giftModalShow:!1,H5ShareBox:!1,is_gift:0,storeInfo:{},mpGiftImg:f.HTTP_REQUEST_URL+"/statics/images/gift_share.jpg"}},computed:(0,s.mapGetters)(["isLogin"]),watch:{isLogin:{handler:function(t,o){t&&this.getOrderPayInfo()},deep:!0}},onLoad:function(t){if(this.options=t,!t.order_id)return this.$util.Tips({title:this.$t("缺少参数无法查看订单支付状态")},{tab:3,url:1});this.orderId=t.order_id,this.status=t.status||0,this.msg=t.msg||"",this.payType=t.payType||""},onShow:function(){this.isLogin?this.getOrderPayInfo():(0,d.toLogin)()},onShareAppMessage:function(){return(0,n.userShare)(),{title:this.giftData.message||"",imageUrl:this.mpGiftImg||"",path:"/pages/goods/receive_gift/index?id="+this.giftData.id+"&spid="+this.$store.state.app.uid}},onShareTimeline:function(){return(0,n.userShare)(),{title:this.giftData.message,query:{id:this.id,spid:this.uid||0},imageUrl:this.mpGiftImg}},methods:{shareH5:function(){this.H5ShareBox=!0},getOrderLottery:function(t){this.orderLottery=t,this.lotteryLoading=!0},openTap:function(){this.$set(this,"couponsHidden",!this.couponsHidden)},onLoadFun:function(){this.getOrderPayInfo()},getOrderPayInfo:function(){var o=this,i=this;t.showLoading({title:i.$t("正在加载中")}),(0,r.getOrderDetail)(i.orderId).then((function(e){t.hideLoading(),i.$set(i,"order_pay_info",e.data),t.setNavigationBarTitle({title:e.data.paid?i.$t("支付成功"):i.$t("未支付")}),o.loading=!0,e.data.paid&&e.data.is_gift&&(o.storeInfo=e.data.cartInfo[0].productInfo,o.is_gift=e.data.is_gift),o.giftData={image:e.data.cartInfo[0].productInfo.image,title:e.data.cartInfo[0].productInfo.store_name,message:e.data.gift_mark,id:e.data.id,avatar:e.data.avatar,nickname:e.data.nickname,code:e.data.gift_code},o.getOrderCoupon()})).catch((function(i){o.loading=!0,t.hideLoading()}))},getOrderCoupon:function(){var t=this;(0,r.orderCoupon)(t.orderId).then((function(o){t.couponList=o.data}))},goIndex:function(o){t.switchTab({url:"/pages/index/index"})},goPink:function(o){t.navigateTo({url:"/pages/activity/goods_combination_status/index?id="+o})},goOrderDetails:function(o){var i=this;t.showLoading({title:i.$t("正在加载中")}),(0,a.openOrderSubscribe)().then((function(o){t.hideLoading(),t.redirectTo({url:"/pages/goods/order_details/index?order_id="+i.orderId})})).catch((function(){nui.hideLoading()}))}}};o.default=u}).call(this,i("df3c")["default"])},da4b:function(t,o,i){"use strict";i.r(o);var e=i("9001"),n=i.n(e);for(var r in e)["default"].indexOf(r)<0&&function(t){i.d(o,t,(function(){return e[t]}))}(r);o["default"]=n.a}},[["3461","common/runtime","common/vendor"]]]);