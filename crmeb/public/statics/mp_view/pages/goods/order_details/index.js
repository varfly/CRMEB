require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/order_details/index"],{"25c4":function(t,e,i){"use strict";i.r(e);var o=i("fb81"),n=i.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(r);e["default"]=n.a},"5bb4":function(t,e,i){},"66c2":function(t,e,i){"use strict";var o=i("ff4e"),n=i.n(o);n.a},"79e3":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return o}));var o={zbCode:function(){return Promise.all([i.e("common/vendor"),i.e("components/zb-code/zb-code")]).then(i.bind(null,"522c"))}},n=function(){var t=this,e=t.$createElement,i=(t._self._c,[4,5].includes(t.orderInfo.refund_type)),o=i&&""!=t.orderInfo._status.refund_name?t.$t("复制"):null,n=i&&""!=t.orderInfo._status.refund_name?t.$t("请按以上退货信息将商品退回"):null,r=i&&""==t.orderInfo._status.refund_name?t.$t("请联系管理员获取退货地址"):null,s=[4,5].includes(t.orderInfo.refund_type),d=0!=t.isGoodsReturn||2==t.is_gift||t.is_gift?null:t.$t("待付款"),a=0!=t.isGoodsReturn||2==t.is_gift||t.is_gift||1!=t.orderInfo.shipping_type?null:t.$t("待发货"),f=0!=t.isGoodsReturn||2==t.is_gift||t.is_gift||1==t.orderInfo.shipping_type?null:t.$t("待核销"),u=0!=t.isGoodsReturn||2==t.is_gift||t.is_gift||1!=t.orderInfo.shipping_type?null:t.$t("待收货"),l=0!=t.isGoodsReturn||2==t.is_gift||t.is_gift?null:t.$t("待评价"),_=0!=t.isGoodsReturn||2==t.is_gift||t.is_gift?null:t.$t("已完成"),c=0==t.isGoodsReturn&&2!=t.is_gift&&t.is_gift&&2!==t.is_gift?t.$t("待付款"):null,p=0==t.isGoodsReturn&&2!=t.is_gift&&t.is_gift&&2!==t.is_gift?t.$t("待领取"):null,g=0==t.isGoodsReturn&&2!=t.is_gift&&t.is_gift&&2!==t.is_gift?t.$t("已领取"):null,I=0==t.isGoodsReturn&&2!=t.is_gift&&t.is_gift&&2!==t.is_gift?t.$t("已完成"):null,y=0==t.isGoodsReturn&&t.orderInfo.verify_code&&1==t.orderInfo.paid?t.$t("核销信息"):null,h=0==t.isGoodsReturn&&t.orderInfo.verify_code&&1==t.orderInfo.paid&&2==t.orderInfo.shipping_type?t.$t("营业时间"):null,m=0==t.isGoodsReturn&&t.orderInfo.verify_code&&1==t.orderInfo.paid&&2==t.orderInfo.shipping_type?t.$t("每日"):null,v=0==t.isGoodsReturn&&t.orderInfo.verify_code&&1==t.orderInfo.paid?t.$t("使用说明"):null,$=0==t.isGoodsReturn&&t.orderInfo.verify_code&&1==t.orderInfo.paid&&2==t.orderInfo.shipping_type?t.$t("可将二维码出示给店员扫描或提供数字核销码"):null,R=0==t.isGoodsReturn&&t.orderInfo.verify_code&&1==t.orderInfo.paid&&2!=t.orderInfo.shipping_type?t.$t("可将二维码出示给配送员进行核销"):null,b=0==t.isGoodsReturn&&2==t.orderInfo.shipping_type?t.$t("地址信息"):null,x=0==t.isGoodsReturn&&2==t.orderInfo.shipping_type?t.$t("查看位置"):null,G=0!=t.isGoodsReturn&&3==t.orderInfo.refund_type?t.$t("拒绝退款"):null,T=0!=t.isGoodsReturn&&3==t.orderInfo.refund_type?t.$t("拒绝原因"):null,S=0==t.routineContact?t.$t("联系客服"):null,k=0!=t.routineContact?t.$t("联系客服"):null,w=1!=t.isReturen||0!=t.is_gift&&1!=t.is_gift?null:t.$t("申请理由"),C=1!=t.isReturen||0!=t.is_gift&&1!=t.is_gift?null:t.$t("用户备注"),F=1!=t.isReturen||0!=t.is_gift&&1!=t.is_gift?null:t.orderInfo.refund_img.length,L=1!=t.isReturen||0!=t.is_gift&&1!=t.is_gift||!F?null:t.$t("申请图片"),M=0==t.is_gift||1==t.is_gift?t.$t("订单号"):null,O=0==t.is_gift||1==t.is_gift?t.$t("复制"):null,D=0==t.is_gift||1==t.is_gift?t.$t("下单时间"):null,P=0==t.is_gift||1==t.is_gift?t.$t("支付状态"):null,U=0!=t.is_gift&&1!=t.is_gift||!t.orderInfo.paid?null:t.$t("已支付"),z=0!=t.is_gift&&1!=t.is_gift||t.orderInfo.paid?null:t.$t("未支付"),B=0!=t.is_gift&&1!=t.is_gift||!t.orderInfo.paid?null:t.$t("支付方式"),H=0!=t.is_gift&&1!=t.is_gift||!t.orderInfo.paid?null:t.$t(t.orderInfo._status._payType),A=(0==t.is_gift||1==t.is_gift)&&t.orderInfo.mark&&1!=t.isReturen&&t.orderInfo.pid?t.$t("买家备注"):null,E=0!=t.is_gift&&1!=t.is_gift||!t.orderInfo.mark||1==t.isReturen||t.orderInfo.pid?null:t.$t("买家留言"),N=0!=t.is_gift&&1!=t.is_gift||!t.orderInfo.remark?null:t.$t("商家备注"),Q=0!=t.is_gift&&1!=t.is_gift||!t.orderInfo.remark||1!=t.orderInfo.virtual_type?null:t.$t("复制"),j=t.customForm&&t.customForm.length,q=j?t.$t("复制"):null,J=!t.isGoodsReturn||3==t.orderInfo.cartInfo[0].productInfo.virtual_type||0!=t.is_gift&&1!=t.is_gift?null:t.$t("收货人"),V=!t.isGoodsReturn||3==t.orderInfo.cartInfo[0].productInfo.virtual_type||0!=t.is_gift&&1!=t.is_gift?null:t.$t("联系电话"),K=t.isGoodsReturn&&3!=t.orderInfo.cartInfo[0].productInfo.virtual_type&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.shipping_type&&1==t.orderInfo.shipping_type?t.$t("收货地址"):null,W=0==t.orderInfo.status||0!=t.is_gift&&1!=t.is_gift||"express"!=t.orderInfo.delivery_type?null:t.$t("配送方式"),X=0==t.orderInfo.status||0!=t.is_gift&&1!=t.is_gift||"express"!=t.orderInfo.delivery_type?null:t.$t("发货"),Y=0==t.orderInfo.status||0!=t.is_gift&&1!=t.is_gift||"express"!=t.orderInfo.delivery_type?null:t.$t("快递公司"),Z=0==t.orderInfo.status||0!=t.is_gift&&1!=t.is_gift||"express"!=t.orderInfo.delivery_type?null:t.$t("快递单号"),tt=0==t.orderInfo.status||0!=t.is_gift&&1!=t.is_gift||"express"==t.orderInfo.delivery_type||"send"!=t.orderInfo.delivery_type?null:t.$t("配送方式"),et=0==t.orderInfo.status||0!=t.is_gift&&1!=t.is_gift||"express"==t.orderInfo.delivery_type||"send"!=t.orderInfo.delivery_type?null:t.$t("送货"),it=0==t.orderInfo.status||0!=t.is_gift&&1!=t.is_gift||"express"==t.orderInfo.delivery_type||"send"!=t.orderInfo.delivery_type?null:t.$t("配送人姓名"),ot=0==t.orderInfo.status||0!=t.is_gift&&1!=t.is_gift||"express"==t.orderInfo.delivery_type||"send"!=t.orderInfo.delivery_type?null:t.$t("送货人电话"),nt=0==t.orderInfo.status||0!=t.is_gift&&1!=t.is_gift||"express"==t.orderInfo.delivery_type||"send"!=t.orderInfo.delivery_type?null:t.$t("拨打"),rt=0==t.orderInfo.status||0!=t.is_gift&&1!=t.is_gift||"express"==t.orderInfo.delivery_type||"send"==t.orderInfo.delivery_type||"fictitious"!=t.orderInfo.delivery_type?null:t.$t("虚拟发货"),st=0==t.orderInfo.status||0!=t.is_gift&&1!=t.is_gift||"express"==t.orderInfo.delivery_type||"send"==t.orderInfo.delivery_type||"fictitious"!=t.orderInfo.delivery_type?null:t.$t("已发货，请注意查收"),dt=0==t.orderInfo.status||0!=t.is_gift&&1!=t.is_gift||"express"==t.orderInfo.delivery_type||"send"==t.orderInfo.delivery_type||"fictitious"!=t.orderInfo.delivery_type||!t.orderInfo.fictitious_content?null:t.$t("虚拟备注"),at=0==t.orderInfo.status||0!=t.is_gift&&1!=t.is_gift||"express"==t.orderInfo.delivery_type||"send"==t.orderInfo.delivery_type||"fictitious"!=t.orderInfo.delivery_type||!t.orderInfo.fictitious_content?null:t.$t("复制"),ft=!t.orderInfo.total_price||0!=t.is_gift&&1!=t.is_gift?null:t.$t("商品总价"),ut=!t.orderInfo.total_price||0!=t.is_gift&&1!=t.is_gift?null:t.$t("￥"),lt=!t.orderInfo.total_price||0!=t.is_gift&&1!=t.is_gift?null:(parseFloat(t.orderInfo.total_price)+parseFloat(t.orderInfo.vip_true_price)).toFixed(2),_t=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.pay_postage>0?t.$t("配送运费"):null,ct=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.pay_postage>0?t.$t("￥"):null,pt=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.pay_postage>0?parseFloat(t.orderInfo.pay_postage).toFixed(2):null,gt=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.levelPrice>0?t.$t("用户等级优惠"):null,It=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.levelPrice>0?t.$t("￥"):null,yt=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.levelPrice>0?parseFloat(t.orderInfo.levelPrice).toFixed(2):null,ht=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.memberPrice>0?t.$t("付费会员优惠"):null,mt=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.memberPrice>0?t.$t("￥"):null,vt=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.memberPrice>0?parseFloat(t.orderInfo.memberPrice).toFixed(2):null,$t=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.gift_price>0?t.$t("礼品附加费用"):null,Rt=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.gift_price>0?t.$t("￥"):null,bt=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.gift_price>0?parseFloat(t.orderInfo.gift_price).toFixed(2):null,xt=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.coupon_price>0?t.$t("优惠券抵扣"):null,Gt=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.coupon_price>0?t.$t("￥"):null,Tt=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.coupon_price>0?parseFloat(t.orderInfo.coupon_price).toFixed(2):null,St=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.use_integral>0?t.$t("积分抵扣"):null,kt=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.use_integral>0?t.$t("￥"):null,wt=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.use_integral>0?parseFloat(t.orderInfo.deduction_price).toFixed(2):null,Ct=!t.orderInfo.total_price||0!=t.is_gift&&1!=t.is_gift||t.orderInfo.help_info.help_status?null:t.$t("实付款"),Ft=!t.orderInfo.total_price||0!=t.is_gift&&1!=t.is_gift||t.orderInfo.help_info.help_status?null:t.$t("￥"),Lt=!t.orderInfo.total_price||0!=t.is_gift&&1!=t.is_gift||t.orderInfo.help_info.help_status?null:parseFloat(t.orderInfo.pay_price).toFixed(2),Mt=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.help_info.help_status?t.$t("总代付"):null,Ot=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.help_info.help_status?t.$t("￥"):null,Dt=t.orderInfo.total_price&&(0==t.is_gift||1==t.is_gift)&&t.orderInfo.help_info.help_status?parseFloat(t.orderInfo.pay_price).toFixed(2):null,Pt=(0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund)&&(t.invoice_func||t.invoiceData)&&t.orderInfo.paid&&!t.orderInfo.refund_status?t.$t("更多"):null,Ut=(0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund)&&t.moreBtn&&t.invoice_func&&!t.invoiceData?t.$t("申请开票"):null,zt=(0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund)&&t.moreBtn&&t.invoiceData?t.$t("查看发票"):null,Bt=0!=t.isGoodsReturn&&9!=t.status.type&&!t.orderInfo.refund_type&&!t.orderInfo.is_apply_refund||0!=t.status.type&&-9!=t.status.type?null:t.$t("取消订单"),Ht=(0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund)&&0==t.status.type?t.$t("立即付款"):null,At=(0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund)&&0!=t.status.type?t.orderInfo.is_apply_refund&&0==t.orderInfo.refund_status&&t.cartInfo.length>1&&!t.orderInfo.virtual_type&&t.orderInfo.is_refund_available:null,Et=(0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund)&&0!=t.status.type&&At?t.cartInfo.length:null,Nt=(0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund)&&0!=t.status.type&&At?t.cartInfo.length:null,Qt=(0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund)&&0!=t.status.type&&At&&Nt>1?t.$t("批量退款"):null,jt=0!=t.isGoodsReturn&&9!=t.status.type&&!t.orderInfo.refund_type&&!t.orderInfo.is_apply_refund||0==t.status.type||!At||Nt>1?null:t.$t("申请退款"),qt=0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund?"express"==t.orderInfo.delivery_type&&3==t.status.class_status&&2==t.status.type&&!t.split.length:null,Jt=(0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund)&&qt?t.$t("查看物流"):null,Vt=(0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund)&&3==t.orderInfo.type&&0==t.orderInfo.refund_type&&t.orderInfo.paid?t.$t("查看拼团"):null,Kt=0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund?3==t.status.class_status&&!t.split.length:null,Wt=(0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund)&&Kt?t.$t("确认收货"):null,Xt=0!=t.isGoodsReturn&&9!=t.status.type&&!t.orderInfo.refund_type&&!t.orderInfo.is_apply_refund||1!=t.orderInfo.paid||t.is_gift?null:t.$t("再次购买"),Yt=(0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund)&&1==t.orderInfo.paid&&0!=t.is_gift&&0==t.orderInfo.gift_uid?t.$t("送给好友"):null,Zt=0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund?[1,2,4].includes(t.orderInfo.refund_type)&&!t.orderInfo.is_cancel&&3!=t.orderInfo.type&&2!=t.orderInfo.refund_status:null,te=(0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund)&&Zt?t.$t("取消申请"):null,ee=(0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund)&&4==t.orderInfo.refund_type?t.$t("填写退货信息"):null,ie=(0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund)&&5==t.orderInfo.refund_type?t.$t("查看退货物流"):null,oe=0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund?0==t.orderInfo.is_cancel&&4==t.status.type&&!t.split.length||-2==t.status.type:null,ne=(0==t.isGoodsReturn||9==t.status.type||t.orderInfo.refund_type||t.orderInfo.is_apply_refund)&&oe?t.$t("删除订单"):null;t._isMounted||(t.e0=function(e){t.giftModalShow=!0},t.e1=function(e){t.refund_close=!1},t.e2=function(e){t.aleartStatus=!1},t.e3=function(e){t.aleartStatus=!1},t.e4=function(e){t.moreBtn=!1},t.e5=function(e){t.giftModalShow=!1},t.e6=function(e){t.H5ShareBox=!1}),t.$mp.data=Object.assign({},{$root:{g0:i,m0:o,m1:n,m2:r,g1:s,m3:d,m4:a,m5:f,m6:u,m7:l,m8:_,m9:c,m10:p,m11:g,m12:I,m13:y,m14:h,m15:m,m16:v,m17:$,m18:R,m19:b,m20:x,m21:G,m22:T,m23:S,m24:k,m25:w,m26:C,g2:F,m27:L,m28:M,m29:O,m30:D,m31:P,m32:U,m33:z,m34:B,m35:H,m36:A,m37:E,m38:N,m39:Q,g3:j,m40:q,m41:J,m42:V,m43:K,m44:W,m45:X,m46:Y,m47:Z,m48:tt,m49:et,m50:it,m51:ot,m52:nt,m53:rt,m54:st,m55:dt,m56:at,m57:ft,m58:ut,g4:lt,m59:_t,m60:ct,g5:pt,m61:gt,m62:It,g6:yt,m63:ht,m64:mt,g7:vt,m65:$t,m66:Rt,g8:bt,m67:xt,m68:Gt,g9:Tt,m69:St,m70:kt,g10:wt,m71:Ct,m72:Ft,g11:Lt,m73:Mt,m74:Ot,g12:Dt,m75:Pt,m76:Ut,m77:zt,m78:Bt,m79:Ht,g13:At,g14:Et,g15:Nt,m80:Qt,m81:jt,g16:qt,m82:Jt,m83:Vt,g17:Kt,m84:Wt,m85:Xt,m86:Yt,g18:Zt,m87:te,m88:ee,m89:ie,g19:oe,m90:ne}})},r=[]},"8e79":function(t,e,i){"use strict";var o=i("5bb4"),n=i.n(o);n.a},ccbf:function(t,e,i){"use strict";i.r(e);var o=i("79e3"),n=i("25c4");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("66c2"),i("8e79");var s=i("828b"),d=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"5bd2bd5e",null,!1,o["a"],void 0);e["default"]=d.exports},e13f:function(t,e,i){"use strict";(function(t,e){var o=i("47a9");i("2ea2");o(i("3240"));var n=o(i("ccbf"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(n.default)}).call(this,i("3223")["default"],i("df3c")["createPage"])},fb81:function(t,e,i){"use strict";(function(t,o){var n=i("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i("1a5b"),s=i("0729"),d=i("d369"),a=i("c8ec"),f=i("a05e"),u=(n(i("9c8e")),i("d7f8")),l=i("8f59"),_=n(i("0cf0")),c=i("9ad6"),p={components:{home:function(){Promise.all([i.e("common/vendor"),i.e("components/home/index")]).then(function(){return resolve(i("05b1"))}.bind(null,i)).catch(i.oe)},invoicePicker:function(){i.e("pages/goods/components/invoicePicker/index").then(function(){return resolve(i("e4d4"))}.bind(null,i)).catch(i.oe)},invoiceModal:function(){i.e("pages/goods/components/invoiceModal/index").then(function(){return resolve(i("b0db"))}.bind(null,i)).catch(i.oe)},orderGoods:function(){i.e("components/orderGoods/index").then(function(){return resolve(i("a51a"))}.bind(null,i)).catch(i.oe)},giftModal:function(){i.e("pages/goods/order_pay_status/components/giftModal").then(function(){return resolve(i("238b"))}.bind(null,i)).catch(i.oe)},zbCode:function(){Promise.all([i.e("common/vendor"),i.e("components/zb-code/zb-code")]).then(function(){return resolve(i("522c"))}.bind(null,i)).catch(i.oe)},authorize:function(){i.e("components/Authorize").then(function(){return resolve(i("636c"))}.bind(null,i)).catch(i.oe)}},mixins:[_.default],data:function(){return{imgHost:c.HTTP_REQUEST_URL,customForm:"",codeShow:!1,cid:"1",ifShow:!0,val:"",size:200,unit:"upx",background:"#FFF",foreground:"#000",pdground:"#000",icon:"",iconsize:40,lv:3,onval:!0,loadMake:!0,src:"",codeSrc:"",wd:0,hg:0,mpUrl:"",order_id:"",evaluate:0,cartInfo:[],pid:0,split:[],orderInfo:{help_info:{},system_store:{},_status:{}},system_store:{},isGoodsReturn:!1,status:{},refund_close:!1,isClose:!1,H5ShareBox:!1,giftModalShow:!1,payMode:[{name:this.$t("微信支付"),icon:"icon-weixinzhifu",value:"weixin",title:this.$t("使用微信快捷支付"),payStatus:!0},{name:this.$t("余额支付"),icon:"icon-yuezhifu",value:"yue",title:this.$t("可用余额"),number:0,payStatus:!0},{name:this.$t("好友代付"),icon:"icon-haoyoudaizhifu",value:"friend",title:this.$t("找微信好友支付"),payStatus:1},{name:this.$t("通联支付"),icon:"icon-tonglianzhifu1",value:"allinpay",title:this.$t("使用通联支付付款"),payStatus:1}],pay_close:!1,pay_order_id:"",totalPrice:"0",isAuto:!1,isShowAuth:!1,routineContact:0,express_num:"",invoice_func:!1,invoiceData:{},invoice_id:0,invChecked:"",moreBtn:!1,invShow:!1,aleartStatus:!1,special_invoice:!1,invList:[],customerInfo:{},userInfo:{},isReturen:"",urlQuery:"",is_gift:0,giftData:null,giftModalData:null,mpGiftImg:c.HTTP_REQUEST_URL+"/statics/images/gift_share.jpg"}},computed:(0,l.mapGetters)(["isLogin"]),onLoad:function(t){t.order_id&&(this.$set(this,"order_id",t.order_id),this.isReturen=t.isReturen),t.invoice_id&&(this.invoice_id=t.invoice_id)},onShow:function(){if(this.isLogin){this.getOrderInfo(),this.getUserInfo(),this.getCustomerType();var e=t.getEnterOptionsSync();if("1038"==e.scene&&"wxef277996acc166c3"==e.referrerInfo.appId){var i=e.referrerInfo.extraData;i?"success"==i.code?this.getOrderInfo():"cancel"==i.code?this.$util.Tips({title:this.$t("支付已取消")}):this.$util.Tips({title:this.$t("支付失败：".concat(i.errmsg))}):this.getOrderInfo()}}else(0,u.toLogin)()},onHide:function(){this.isClose=!0},onReady:function(){},onShareAppMessage:function(){return(0,f.userShare)(),{title:this.giftModalData.gift_mark||"",imageUrl:this.mpGiftImg||"",path:"/pages/goods/receive_gift/index?id="+this.giftModalData.id+"&spid="+this.$store.state.app.uid}},onShareTimeline:function(){return(0,f.userShare)(),{title:this.giftModalData.gift_mark,query:{id:this.id,spid:this.uid||0},path:"/pages/goods/receive_gift/index?id="+this.giftModalData.id+"&spid="+this.$store.state.app.uid,imageUrl:this.mpGiftImg}},methods:{qrR:function(t){this.codeSrc=t},shareH5:function(){this.H5ShareBox=!0},cancelRefundOrder:function(t){var e=this;o.showModal({title:e.$t("取消申请"),content:e.$t("您确认放弃此次申请吗"),success:function(t){t.confirm&&(0,r.cancelRefundOrder)(e.order_id).then((function(t){return e.$util.Tips({title:e.$t("操作成功"),icon:"success"},{tab:4,url:"/pages/users/user_return_list/index"})})).catch((function(t){return e.$util.Tips({title:t})}))}})},refundInput:function(){o.navigateTo({url:"/pages/goods/order_refund_goods/index?orderId="+this.order_id})},getCustomerType:function(){var t=this;(0,d.getCustomerType)().then((function(e){t.customerInfo=e.data})).catch((function(e){t.$util.Tips({title:e})}))},goGoodCall:function(){(0,a.getCustomer)("/pages/extension/customer_list/chat?orderId=".concat(this.order_id,"&isReturen=").concat(this.isReturen))},openSubcribe:function(t){var e=t;o.showLoading({title:this.$t("正在加载中")}),(0,s.openOrderRefundSubscribe)().then((function(t){o.hideLoading(),o.navigateTo({url:e})})).catch((function(t){o.hideLoading()}))},goReturnGoods:function(){},makePhone:function(){o.makePhoneCall({phoneNumber:this.system_store.phone})},showMaoLocation:function(){if(!this.system_store.latitude||!this.system_store.longitude)return this.$util.Tips({title:this.$t("缺少经纬度信息无法查看地图")});o.openLocation({latitude:parseFloat(this.system_store.latitude),longitude:parseFloat(this.system_store.longitude),scale:8,name:this.system_store.name,address:this.system_store.address+this.system_store.detailed_address,success:function(){}})},pay_open:function(){o.navigateTo({url:"/pages/goods/cashier/index?order_id=".concat(this.orderInfo.order_id,"&from_type=order")})},pay_fail:function(){this.pay_close=!1,this.pay_order_id=""},onLoadFun:function(){this.getOrderInfo(),this.getUserInfo()},getUserInfo:function(){var t=this;(0,f.getUserInfo)().then((function(e){t.userInfo=e.data,t.payMode[1].number=e.data.now_money,t.$set(t,"payMode",t.payMode)}))},getOrderInfo:function(){var t=this,e=this;o.showLoading({title:this.$t("正在加载中")});var i="";i=e.isReturen?(0,r.refundOrderDetail)(this.order_id):(0,r.getOrderDetail)(this.order_id),i.then((function(i){i.data.pid&&-1==i.data.pid&&e.$util.Tips({title:t.$t("订单信息不存在")},"/pages/goods/order_list/index");var n=i.data._status._type;o.hideLoading(),e.$set(e,"orderInfo",i.data);var r=[];if(e.orderInfo.custom_form.map((function(t){""!=t.value&&r.push(t)})),e.$set(e,"customForm",r),e.$set(e,"cartInfo",i.data.cartInfo),e.$set(e,"pid",i.data.pid),e.$set(e,"split",i.data.split),e.$set(e,"evaluate",3==n?3:0),e.$set(e,"system_store",i.data.system_store),e.$set(e,"invoiceData",i.data.invoice),i.data.is_gift){var s=i.data.gift_uid===t.$store.state.app.uid;e.$set(e,"is_gift",s?2:1),o.setNavigationBarTitle({title:"礼物详情"}),t.giftData={avatar:i.data.avatar,gift_mark:i.data.gift_mark,nickname:i.data.nickname},t.giftModalData={image:i.data.cartInfo[0].productInfo.image,title:i.data.cartInfo[0].productInfo.store_name,message:i.data.gift_mark,id:i.data.id,avatar:i.data.avatar,nickname:i.data.nickname,gift_mark:i.data.gift_mark,code:i.data.gift_code}}e.invoiceData&&(e.invoiceData.pay_price=i.data.pay_price),e.$set(e,"invoice_func",i.data.invoice_func),e.$set(e,"special_invoice",i.data.special_invoice),e.$set(e,"routineContact",Number(i.data.routine_contact_type)),e.orderInfo.code?t.codeSrc=e.orderInfo.code||"":t.$nextTick((function(){e.val=c.HTTP_REQUEST_URL+"/pages/admin/order_cancellation/index?verify_code="+e.orderInfo.verify_code})),0!=t.orderInfo.refund_status?t.isGoodsReturn=!0:t.isReturen=0,e.invoice_id&&!e.invoiceData&&(e.invChecked=e.invoice_id||"",t.invoiceApply()),e.payMode.map((function(t){"weixin"==t.value&&(t.payStatus=!!i.data.pay_weixin_open),"alipay"==t.value&&(t.payStatus=!!i.data.ali_pay_status),"yue"==t.value&&(t.payStatus=1==i.data.yue_pay_status),"friend"==t.value&&(t.payStatus=1==i.data.friend_pay_status),"allinpay"==t.value&&(t.payStatus=1==i.data.pay_allin_open)})),e.getOrderStatus()})).catch((function(t){o.hideLoading(),e.$util.Tips({title:t},"/pages/goods/order_list/index")}))},invCancel:function(){this.invChecked="",this.invTitle=this.$t("不开发票"),this.invShow=!1},invSub:function(t){var e=this;this.invChecked=t;var i={order_id:this.order_id,invoice_id:this.invChecked};(0,f.makeUpinvoice)(i).then((function(t){o.showToast({title:e.$t("申请成功"),icon:"success"}),e.invShow=!1,e.aleartStatus=!0,e.getOrderInfo()})).catch((function(t){o.showToast({title:t,icon:"none"})}))},invClose:function(){this.invShow=!1,this.getInvoiceList()},invoiceApply:function(){this.urlQuery="&specialInvoice=".concat(this.userInfo.special_invoice),this.getInvoiceList(),this.moreBtn=!1,this.invShow=!0},aleartStatusChange:function(){this.moreBtn=!1,this.aleartStatus=!0},getInvoiceList:function(){var t=this;o.showLoading({title:this.$t("正在加载中")}),(0,f.invoiceList)().then((function(e){o.hideLoading(),t.invList=e.data.map((function(t){return t.id=t.id.toString(),t}));var i=t.invList.find((function(e){return e.id==t.invChecked}));if(i){var n="";n+=1===i.header_type?t.$t("个人"):t.$t("企业"),n+=1===i.type?t.$t("普通"):t.$t("专用"),n+=t.$t("发票"),t.invTitle=n}})).catch((function(t){o.showToast({title:t,icon:"none"})}))},more:function(){this.moreBtn=!this.moreBtn},copy:function(t){o.setClipboardData({data:t})},copyAddress:function(){o.setClipboardData({data:this.orderInfo._status.refund_name+this.orderInfo._status.refund_phone+this.orderInfo._status.refund_address,success:function(){o.Tips({title:this.$t("复制成功"),icon:"success"})}})},copyText:function(t){var e="";t?e=t:this.customForm.map((function(t){"img"!==t.label&&(e+=t.title+t.value)})),o.setClipboardData({data:e})},goTel:function(){o.makePhoneCall({phoneNumber:this.orderInfo.delivery_id})},getOrderStatus:function(){var t=this.orderInfo||{},e=t._status||{_type:0},i={},o=parseInt(e._type),n=t.delivery_type,r=t.seckill_id?parseInt(t.seckill_id):0,s=t.bargain_id?parseInt(t.bargain_id):0,d=t.discount_id?parseInt(t.discount_id):0,a=t.combination_id?parseInt(t.combination_id):0;i={type:9==o?-9:o,class_status:0},1==o&&a>0&&(i.class_status=1),2==o&&"express"==n&&(i.class_status=2),2==o&&(i.class_status=3),4!=o&&0!=o||(i.class_status=4),r||s||a||d||t.type||3!=o&&4!=o||(i.class_status=5),this.$set(this,"status",i)},goJoinPink:function(){o.navigateTo({url:"/pages/activity/goods_combination_status/index?id="+this.orderInfo.pink_id})},goOrderConfirm:function(){var t=this;(0,r.orderAgain)(t.orderInfo.order_id).then((function(t){return o.navigateTo({url:"/pages/goods/order_confirm/index?new=1&cartId="+t.data.cateId})})).catch((function(e){return t.$util.Tips({title:e})}))},confirmOrder:function(e){var i=this;t.openBusinessView&&this.orderInfo.order_shipping_open&&this.orderInfo.trade_no&&this.orderInfo.uid==this.orderInfo.pay_uid?(o.showLoading({title:this.$t("加载中")}),t.openBusinessView({businessType:"weappOrderConfirm",extraData:{transaction_id:this.orderInfo.trade_no},success:function(){},fail:function(t){return o.hideLoading(),i.$util.Tips({title:t.errMsg})},complete:function(){o.hideLoading()}})):this.defaultTake(e)},defaultTake:function(t){var e=this;o.showModal({title:e.$t("确认收货"),content:e.$t("为保障权益，请收到货确认无误后，再确认收货"),success:function(i){i.confirm&&(0,r.orderTake)(t||e.order_id).then((function(t){return e.$util.Tips({title:e.$t("操作成功"),icon:"success"},(function(){e.getOrderInfo()}))})).catch((function(t){return e.$util.Tips({title:t})}))}})},delOrder:function(){var t=this;o.showModal({title:this.$t("删除订单"),content:this.$t("确定删除该订单"),success:function(e){if(e.confirm)(t.isReturen?r.refundOrderDel:r.orderDel)(t.order_id).then((function(e){return-2==t.status.type?t.$util.Tips({title:t.$t("删除成功"),icon:"success"},{tab:5,url:"/pages/users/user_return_list/index"}):t.$util.Tips({title:t.$t("删除成功"),icon:"success"},{tab:5,url:"/pages/goods/order_list/index"})})).catch((function(e){return t.$util.Tips({title:e})}));else if(e.cancel)return t.$util.Tips({title:t.$t("已取消")})}})},cancelOrder:function(){var t=this;o.showModal({title:this.$t("提示"),content:this.$t("确认取消该订单"),success:function(e){e.confirm?(0,r.orderCancel)(t.orderInfo.order_id).then((function(e){t.$util.Tips({title:e.msg},"/pages/goods/order_list/index")})).catch((function(){t.getOrderInfo()})):e.cancel}})}}};e.default=p}).call(this,i("3223")["default"],i("df3c")["default"])},ff4e:function(t,e,i){}},[["e13f","common/runtime","common/vendor"]]]);