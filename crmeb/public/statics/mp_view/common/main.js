(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{2e3:function(e,t,a){"use strict";(function(e,n){var o=a("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a("7eb4")),r=o(a("ee10")),c=(a("d7f8"),a("9ad6")),s=a("2e42"),d=(o(a("192a")),o(a("b202"))),u=a("c8ec"),l=a("d369"),f=a("a05e"),p=a("8f59"),g=o(a("0cf0")),h=o(a("c13a")),b=o(a("2006")),y=(a("38c2"),{globalData:{spid:0,code:0,isLogin:!1,userInfo:{},MyMenus:[],globalData:!1,isIframe:!1,tabbarShow:!0,windowHeight:0,locale:""},mixins:[g.default],computed:(0,p.mapGetters)(["isLogin","cartNum"]),watch:{isLogin:{deep:!0,handler:function(e,t){e||this.$store.commit("indexData/setCartNum","")}},cartNum:function(t,a){this.$store.commit("indexData/setCartNum",t+""),t>0?e.setTabBarBadge({index:Number(e.getStorageSync("FOOTER_ADDCART"))||2,text:t+""}):e.hideTabBarRedDot({index:Number(e.getStorageSync("FOOTER_ADDCART"))||2})}},onShow:function(){var t=e.getEnterOptionsSync();if(t.query.spread&&(this.$Cache.set("spread",t.query.spread),this.globalData.spid=t.query.spread,this.globalData.pid=t.query.spread,(0,u.silenceBindingSpread)(this.globalData)),t.query.spid&&(this.$Cache.set("spread",t.query.spid),this.globalData.spid=t.query.spid,this.globalData.pid=t.query.spid,(0,u.silenceBindingSpread)(this.globalData)),t.query.agent_id&&(this.$Cache.set("agent_id",t.query.agent_id),this.globalData.agent_id=t.query.agent_id,(0,u.silenceBindingSpread)(this.globalData)),t.query.scene){var a=this.$util.getUrlParams(decodeURIComponent(t.query.scene));if(a.pid)this.$Cache.set("spread",a.pid),this.globalData.spid=a.pid,this.globalData.pid=a.pid;else switch(t.scene){case 1047:this.globalData.code=t.query.scene;break;case 1048:this.globalData.code=t.query.scene;break;case 1049:this.globalData.code=t.query.scene;break;case 1001:this.globalData.spid=t.query.scene;break}(0,u.silenceBindingSpread)(this.globalData)}},onLaunch:function(t){var a=this;return(0,r.default)(i.default.mark((function t(){var o,r,u,p,g;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.hideTabBar(),o=a,(0,s.basicConfig)().then((function(t){e.setStorageSync("BASIC_CONFIG",t.data)})),(0,l.colorChange)("color_change").then((function(t){e.setStorageSync("is_diy",t.data.is_diy),e.$emit("is_diy",t.data.is_diy);var a=t.data.status,n={1:"blue",2:"green",3:"red",4:"pink",5:"orange"}[a]||"red",o=b.default[n];e.setStorageSync("color_status",t.data.status),e.setStorageSync("viewColor",o),e.$emit("ok",o,a)})),(0,f.getLangVersion)().then((function(t){var n=t.data.version;n!=e.getStorageSync("LANG_VERSION")&&(0,f.getLangJson)().then((function(t){var n=Object.keys(t.data)[0];h.default.set("locale",Object.keys(t.data)[0]),a.$i18n.setLocaleMessage(n,t.data[n]),e.setStorageSync("localeJson",t.data)})),e.setStorageSync("LANG_VERSION",n)})),""!=c.HTTP_REQUEST_URL){t.next=8;break}return t.abrupt("return",!1);case 8:n.getUpdateManager(),r=n.getEnterOptionsSync(),n.canIUse("getUpdateManager")&&1154!=r.scene&&(u=n.getUpdateManager(),u.onCheckForUpdate((function(e){e.hasUpdate&&(u.onUpdateFailed((function(){return o.Tips({title:"新版本下载失败"})})),u.onUpdateReady((function(){n.showModal({title:"更新提示",content:"新版本已经下载好，是否重启当前应用？",success:function(e){e.confirm&&u.applyUpdate()}})})),u.onUpdateFailed((function(){n.showModal({title:"发现新版本",content:"请删除当前小程序，重启搜索打开..."})})))}))),e.getSystemInfo({success:function(e){o.globalData.navHeight=e.statusBarHeight*(750/e.windowWidth)+91}}),p=e.getMenuButtonBoundingClientRect(),o.globalData.navH=2*p.top+p.height/2,g=e.getSystemInfoSync().SDKVersion,d.default.compareVersion(g,"2.21.3")>=0?o.$Cache.set("MP_VERSION_ISNEW",!0):o.$Cache.set("MP_VERSION_ISNEW",!1),(0,l.getCrmebCopyRight)().then((function(t){e.setStorageSync("copyRight",t.data)}));case 17:case"end":return t.stop()}}),t)})))()},methods:{remoteRegister:function(e){var t=this;(0,s.remoteRegister)({remote_token:e}).then((function(e){var a=e.data;a.get_remote_login_url?location.href=a.get_remote_login_url:(t.$store.commit("LOGIN",{token:a.token,time:a.expires_time-t.$Cache.time()}),t.$store.commit("SETUID",a.userInfo.uid),location.reload())}))}}});t.default=y}).call(this,a("df3c")["default"],a("3223")["default"])},4291:function(e,t,a){"use strict";a.r(t);var n=a("2000"),o=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},"4ad2":function(e,t,a){"use strict";a.r(t);var n=a("4291");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("721d");var i=a("828b"),r=Object(i["a"])(n["default"],void 0,void 0,!1,null,null,null,!1,void 0,void 0);t["default"]=r.exports},"721d":function(e,t,a){"use strict";var n=a("de5e"),o=a.n(n);o.a},"81b3":function(e,t,a){"use strict";(function(e,t){var n=a("47a9"),o=n(a("7ca3"));a("2ea2");var i=n(a("3240")),r=n(a("4ad2")),c=n(a("9fd2")),s=n(a("c13a")),d=n(a("ca94")),u=n(a("9ad6")),l=n(a("19f5")),f=n(a("6280")),p=n(a("cd7e")),g=a("d053");function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}e.__webpack_require_UNI_MP_PLUGIN__=a,i.default.prototype.$util=d.default,i.default.prototype.$config=u.default,i.default.prototype.$Cache=s.default,i.default.prototype.$eventHub=new i.default,i.default.prototype.$socket=new l.default,i.default.config.productionTip=!1;i.default.component("skeleton",(function(){a.e("components/skeleton/index").then(function(){return resolve(a("0de3"))}.bind(null,a)).catch(a.oe)})),i.default.component("pageLoading",(function(){a.e("components/pageLoading").then(function(){return resolve(a("fc95"))}.bind(null,a)).catch(a.oe)})),i.default.component("easyLoadimage",(function(){a.e("components/easy-loadimage/easy-loadimage").then(function(){return resolve(a("1bea"))}.bind(null,a)).catch(a.oe)})),i.default.component("BaseMoney",(function(){a.e("components/BaseMoney").then(function(){return resolve(a("4ad1"))}.bind(null,a)).catch(a.oe)})),i.default.component("BaseTag",(function(){a.e("components/BaseTag").then(function(){return resolve(a("31068"))}.bind(null,a)).catch(a.oe)})),i.default.prototype.$permission=p.default,i.default.prototype.$Debounce=g.Debounce,r.default.mpType="app";var y=new i.default(b(b({},r.default),{},{store:c.default,Cache:s.default,i18n:f.default}));t(y).$mount()}).call(this,a("3223")["default"],a("df3c")["createApp"])},de5e:function(e,t,a){}},[["81b3","common/runtime","common/vendor"]]]);